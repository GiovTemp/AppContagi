Index: app/src/main/res/layout/activity_crea_gruppo.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/relativeLayout2\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".gruppo.CreaGruppoActivity\">\r\n\r\n    <androidx.cardview.widget.CardView\r\n        android:id=\"@+id/cardView4\"\r\n        android:layout_width=\"357dp\"\r\n        android:layout_height=\"501dp\"\r\n        android:layout_centerHorizontal=\"true\"\r\n        android:layout_centerVertical=\"true\"\r\n        android:layout_marginLeft=\"40dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginRight=\"40dp\"\r\n        android:layout_marginBottom=\"20dp\"\r\n        app:cardCornerRadius=\"10dp\"\r\n        app:cardElevation=\"3dp\"\r\n        app:cardPreventCornerOverlap=\"false\"\r\n        app:cardUseCompatPadding=\"true\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintLeft_toLeftOf=\"parent\"\r\n        app:layout_constraintRight_toRightOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\">\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/linearLayout\"\r\n                android:layout_width=\"386dp\"\r\n                android:layout_height=\"103dp\"\r\n                android:background=\"@color/colorPrimaryDark\"\r\n                android:orientation=\"vertical\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/imageView6\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"55dp\"\r\n                    app:srcCompat=\"@drawable/ic_create\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/textView8\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"5dp\"\r\n                    android:fontFamily=\"@font/baloo\"\r\n                    android:text=\"Crea Gruppo\"\r\n                    android:textAlignment=\"center\"\r\n                    android:textColor=\"@color/white\"\r\n                    android:textSize=\"18sp\" />\r\n            </LinearLayout>\r\n\r\n            <RelativeLayout\r\n                android:id=\"@+id/relativeLayout1\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"20dp\"\r\n                android:layout_marginEnd=\"20dp\"\r\n                android:layout_marginBottom=\"100dp\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/linearLayout\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/imgView_dataEvento\"\r\n                    android:layout_width=\"40dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:background=\"@color/colorPrimaryDark\"\r\n                    android:padding=\"8dp\"\r\n                    android:src=\"@drawable/ic_create_group\"\r\n                    app:tint=\"@color/white\" />\r\n\r\n                <EditText\r\n                    android:id=\"@+id/nGruppo\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_alignBottom=\"@+id/imgView_dataEvento\"\r\n                    android:layout_alignParentTop=\"true\"\r\n                    android:layout_marginLeft=\"1dp\"\r\n                    android:layout_marginTop=\"-1dp\"\r\n                    android:layout_marginBottom=\"1dp\"\r\n                    android:layout_toRightOf=\"@+id/imgView_dataEvento\"\r\n                    android:background=\"@color/editTextBG\"\r\n                    android:hint=\"@string/nome_gruppo\"\r\n                    android:paddingLeft=\"20dp\"\r\n                    android:textSize=\"15sp\" />\r\n\r\n            </RelativeLayout>\r\n\r\n            <Button\r\n                android:id=\"@+id/CGruppo\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"30dp\"\r\n                android:layout_marginEnd=\"30dp\"\r\n                android:background=\"@color/colorPrimaryDark\"\r\n                android:fontFamily=\"sans-serif-medium\"\r\n                android:onClick=\"CGruppoButton\"\r\n                android:text=\"@string/crea\"\r\n                android:textColor=\"@color/white\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/relativeLayout1\" />\r\n\r\n\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n    </androidx.cardview.widget.CardView>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_crea_gruppo.xml	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/res/layout/activity_crea_gruppo.xml	(date 1612979401100)
@@ -52,7 +52,7 @@
                     android:layout_height="wrap_content"
                     android:layout_marginTop="5dp"
                     android:fontFamily="@font/baloo"
-                    android:text="Crea Gruppo"
+                    android:text="@string/crea_gruppo"
                     android:textAlignment="center"
                     android:textColor="@color/white"
                     android:textSize="18sp" />
Index: app/src/main/java/it/gadg/contagiapp/evento/CreaEventoActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package it.gadg.contagiapp.evento;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport android.graphics.Color;\r\nimport android.graphics.Typeface;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.common.api.Status;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.libraries.places.api.Places;\r\nimport com.google.android.libraries.places.api.model.Place;\r\nimport com.google.android.libraries.places.api.model.TypeFilter;\r\nimport com.google.android.libraries.places.api.net.PlacesClient;\r\nimport com.google.android.libraries.places.widget.AutocompleteSupportFragment;\r\nimport com.google.android.libraries.places.widget.listener.PlaceSelectionListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\nimport it.gadg.contagiapp.R;\r\nimport it.gadg.contagiapp.modelli.Evento;\r\nimport it.gadg.contagiapp.modelli.PartecipazioneEvento;\r\n\r\npublic class CreaEventoActivity extends AppCompatActivity {\r\n\r\n    EditText nomeEvento;\r\n    EditText luogoEvento;\r\n    EditText dataEvento;\r\n    EditText oraEvento;\r\n    String apiKey = \"AIzaSyB0GDHQfu3ADx8FAwae0XnAVyc4-l87VgY\";\r\n    String nomeLuogo = \"\";\r\n    String idLuogo=\"\";\r\n\r\n    FirebaseUser user;\r\n    private FirebaseAuth mAuth; //dichiaro variabile per l'auenticazione firebase\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_crea_evento);\r\n        getWindow().setNavigationBarColor(ContextCompat.getColor(this, R.color.colorPrimaryDark));\r\n\r\n\r\n        mAuth= FirebaseAuth.getInstance();\r\n        user = mAuth.getCurrentUser();\r\n\r\n\r\n        //inizializzo sdk google\r\n        Places.initialize(getApplicationContext(),apiKey);\r\n        PlacesClient placesClient = Places.createClient(this);\r\n\r\n        //inizializzo fragment autocomplete places\r\n\r\n        AutocompleteSupportFragment autocompleteFragment = (AutocompleteSupportFragment)getSupportFragmentManager().findFragmentById(R.id.autocomplete_fragment);\r\n        assert autocompleteFragment != null;\r\n        autocompleteFragment.setTypeFilter(TypeFilter.ESTABLISHMENT);\r\n        autocompleteFragment.setHint(getResources().getString(R.string.luogoEvento));\r\n        ((EditText)autocompleteFragment.getView().findViewById(R.id.places_autocomplete_search_input)).setHintTextColor(getResources().getColor(R.color.hint));\r\n        autocompleteFragment.getView().findViewById(R.id.places_autocomplete_search_button).setVisibility(View.GONE);\r\n        autocompleteFragment.setCountries(\"IT\");\r\n        autocompleteFragment.setPlaceFields(Arrays.asList(Place.Field.ID,Place.Field.NAME));\r\n\r\n        ((EditText)autocompleteFragment.getView().findViewById(R.id.places_autocomplete_search_input)).setTextSize(15.0f);\r\n\r\n        autocompleteFragment.getView().setBackgroundColor(ContextCompat.getColor(getApplicationContext(), R.color.editTextBG));\r\n\r\n        autocompleteFragment.setOnPlaceSelectedListener(new PlaceSelectionListener() {\r\n            @Override\r\n            public void onPlaceSelected(@NonNull Place place) {\r\n                Log.i(\"Luogo\",\"Place :\" + place.getName() + \",\" + place.getId());\r\n                nomeLuogo=place.getName();\r\n                idLuogo =place.getId();\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onError(@NonNull Status status) {\r\n                Log.i(\"Errore\", String.valueOf(status));\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void finish() {\r\n        super.finish();\r\n        overridePendingTransition(R.anim.slide_in_left, R.anim.slide_out_right);\r\n    }\r\n\r\n    public void creaEvento(View view) {\r\n\r\n        nomeEvento = findViewById(R.id.nomeEvento);\r\n        dataEvento = findViewById(R.id.dataEvento);\r\n        oraEvento = findViewById(R.id.oraEvento);\r\n\r\n        String data = dataEvento.getText().toString();\r\n        String ora = oraEvento.getText().toString();\r\n\r\n        final FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n\r\n        if(!dataValida(data) ){\r\n            Toast.makeText(getApplicationContext(),getResources().getString(R.string.dataErr), Toast.LENGTH_SHORT).show();}\r\n            else if(!oraValido(ora)){\r\n                Toast.makeText(getApplicationContext(),getResources().getString(R.string.oraErr), Toast.LENGTH_SHORT).show();\r\n             }else {\r\n            db.collection(\"Utenti\").document(user.getUid()).get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n                @Override\r\n                public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                    if (task.isSuccessful()) {\r\n                        DocumentSnapshot document = task.getResult();\r\n                        if (document.exists()) {\r\n                           long rischio = (long) document.get(\"rischio\");\r\n                           if(rischio<50){\r\n                               final Evento e = new Evento(nomeEvento.getText().toString(),nomeLuogo,idLuogo,dataEvento.getText().toString(), oraEvento.getText().toString(), (int) rischio);\r\n                               db.collection(\"Eventi\").add(e).addOnCompleteListener(new OnCompleteListener<DocumentReference>() {\r\n                                   @Override\r\n                                   public void onComplete(@NonNull Task<DocumentReference> task) {\r\n                                       if (task.isSuccessful()) {\r\n                                           DocumentReference docRef = task.getResult();\r\n                                           String key = docRef.getId();\r\n\r\n                                           PartecipazioneEvento pE = new PartecipazioneEvento(key,user.getUid());\r\n                                           db.collection(\"PartecipazioneEvento\").add(pE).addOnCompleteListener(new OnCompleteListener<DocumentReference>(){\r\n\r\n                                               @Override\r\n                                               public void onComplete(@NonNull Task<DocumentReference> task) {\r\n                                                   if (task.isSuccessful()) {\r\n                                                       Toast.makeText(getApplicationContext(), getResources().getString(R.string.eventSucc), Toast.LENGTH_LONG).show();\r\n\r\n                                                       finish();\r\n                                                   }else{\r\n                                                       Toast.makeText(getApplicationContext(), getResources().getString(R.string.eventFail), Toast.LENGTH_LONG).show();\r\n\r\n                                                   }\r\n                                               }\r\n\r\n                                           });\r\n\r\n                                       }\r\n                                   }\r\n                               });\r\n                           }else{\r\n                               Toast.makeText(getApplicationContext(), getResources().getString(R.string.highRisk), Toast.LENGTH_LONG).show();\r\n                           }\r\n\r\n                        }else{\r\n                            Toast.makeText(getApplicationContext(), getResources().getString(R.string.utenteNonTrovato), Toast.LENGTH_LONG).show();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    private boolean oraValido(String ora) {\r\n\r\n\r\n        // Regex convalida l'ora nel formato 24h.\r\n        String regex = \"([01]?[0-9]|2[0-3]):[0-5][0-9]\";\r\n\r\n        // Compila ReGex\r\n        Pattern p = Pattern.compile(regex);\r\n\r\n        // Se ora è vuoto\r\n        // return false\r\n        if (ora == null) {\r\n            return false;\r\n        }\r\n\r\n        // Pattern class contiene il metodo matcher()\r\n        //per trovare la corrispondenza tra un dato e l'ora\r\n        Matcher m = p.matcher(ora);\r\n\r\n        // Return se l'ora corrisponde con la stringa Regex\r\n        return m.matches();\r\n    }\r\n\r\n    private boolean dataValida(String data) {\r\n        // TODO Conversione stringa in data\r\n\r\n        String regex = \"^(1[0-2]|0[1-9])/(3[01]\"\r\n                + \"|[12][0-9]|0[1-9])/[0-9]{4}$\";\r\n        Pattern pattern = Pattern.compile(regex);\r\n        Matcher matcher = pattern.matcher((CharSequence)data);\r\n        return matcher.matches();\r\n    }}\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/it/gadg/contagiapp/evento/CreaEventoActivity.java	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/java/it/gadg/contagiapp/evento/CreaEventoActivity.java	(date 1613060542454)
@@ -27,7 +27,12 @@
 import com.google.firebase.firestore.DocumentSnapshot;
 import com.google.firebase.firestore.FirebaseFirestore;
 
+import java.text.DateFormat;
+import java.text.ParseException;
+import java.text.SimpleDateFormat;
 import java.util.Arrays;
+import java.util.Date;
+import java.util.Locale;
 import java.util.regex.Matcher;
 import java.util.regex.Pattern;
 
@@ -115,7 +120,9 @@
 
         if(!dataValida(data) ){
             Toast.makeText(getApplicationContext(),getResources().getString(R.string.dataErr), Toast.LENGTH_SHORT).show();}
-            else if(!oraValido(ora)){
+        else if(!macchinaDelTempo(data)){
+            Toast.makeText(getApplicationContext(),getResources().getString(R.string.macchinaDelTempo), Toast.LENGTH_SHORT).show();}
+        else if(!oraValido(ora)){
                 Toast.makeText(getApplicationContext(),getResources().getString(R.string.oraErr), Toast.LENGTH_SHORT).show();
              }else {
             db.collection("Utenti").document(user.getUid()).get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {
@@ -168,6 +175,24 @@
         }
     }
 
+    private boolean macchinaDelTempo(String data) {
+        DateFormat format = new SimpleDateFormat("dd/MM/yyyy", Locale.ENGLISH);
+        Date date = null;
+        try {
+            date = format.parse(data);
+            Date today = new Date();
+            if(date.before(today)){
+             return false;
+            }else{
+                return true;
+            }
+        } catch (ParseException e) {
+
+            e.printStackTrace();
+        }
+        return true;
+    }
+
     private boolean oraValido(String ora) {
 
 
@@ -194,8 +219,10 @@
     private boolean dataValida(String data) {
         // TODO Conversione stringa in data
 
-        String regex = "^(1[0-2]|0[1-9])/(3[01]"
-                + "|[12][0-9]|0[1-9])/[0-9]{4}$";
+        String regex = "^(3[01]|[12][0-9]|0[1-9])/" +
+                "(1[0-2]|0[1-9])"
+                +"/[0-9]{4}$";
+
         Pattern pattern = Pattern.compile(regex);
         Matcher matcher = pattern.matcher((CharSequence)data);
         return matcher.matches();
Index: app/src/main/res/values-en-rGB/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <string name=\"app_name\">AppContagi</string>\r\n    <string name=\"navigation_drawer_open\">Open navigation drawer</string>\r\n    <string name=\"navigation_drawer_close\">Close navigation drawer</string>\r\n    <string name=\"nav_header_title\">Android Studio</string>\r\n    <string name=\"nav_header_subtitle\">android.studio@android.com</string>\r\n    <string name=\"nav_header_desc\">Navigation header</string>\r\n    <string name=\"action_settings\">Settings</string>\r\n\r\n\r\n    <!-- Strings related to login -->\r\n    <string name=\"prompt_email\">Email</string>\r\n    <string name=\"prompt_password\">Password</string>\r\n    <string name=\"action_sign_in\">Sign in or register</string>\r\n    <string name=\"action_sign_in_short\">Sign in</string>\r\n    <string name=\"welcome\">\"Welcome!\"</string>\r\n    <string name=\"invalid_username\">Invalid email</string>\r\n    <string name=\"invalid_password\">Password must contain at least 5 characters</string>\r\n    <string name=\"login_failed\">\"Login failed\"</string>\r\n    <string name=\"nome\">First name</string>\r\n    <string name=\"cognome\">Last name</string>\r\n    <string name=\"email\">Email</string>\r\n    <string name=\"registrati\">Register</string>\r\n    <string name=\"background\">Background</string>\r\n    <string name=\"immagine_prima_schermata\">First screen image</string>\r\n    <string name=\"contagiapp\">ContagiAPP</string>\r\n    <string name=\"lorem\">Lorem</string>\r\n    <string name=\"ipsum\">ipsum</string>\r\n    <string name=\"faketext\">Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit</string>\r\n    <string name=\"tab\">tab</string>\r\n    <string name=\"login\">Login</string>\r\n    <string name=\"logout\">Logout</string>\r\n    <string name=\"loginSplash\">Login/Register</string>\r\n    <string name=\"registrati_adesso\">Register now</string>\r\n    <string name=\"password\">Password</string>\r\n    <string name=\"title_activity_main\">Dashboard</string>\r\n\r\n    <string name=\"crea_evento\">Create Event</string>\r\n    <string name=\"crea_gruppo\">Create Group</string>\r\n    <string name=\"nome_evento\">Event name</string>\r\n    <string name=\"ora_inizio\">Start time</string>\r\n    <string name=\"data\">Date</string>\r\n    <string name=\"i_tuoi_eventi\">Your events</string>\r\n    <string name=\"i_tuoi_gruppi\">Your groups</string>\r\n\r\n    <string name=\"str_label_btn_send\">Send</string>\r\n    <string name=\"str_menu_search_devices\">Search Devices</string>\r\n    <string name=\"str_menu_bluetooth_on\">Switch on Bluetooth</string>\r\n\r\n    <string name=\"str_paired_devices\">Paired Devices</string>\r\n    <string name=\"str_available_devices\">Available Devices</string>\r\n    <string name=\"str_menu_scan_devices\">Search Devices</string>\r\n    <string name=\"title_activity_prova\">Try</string>\r\n    <string name=\"title_activity_ham\">Ham</string>\r\n    <string name=\"title_activity_impostazioni\">Settings</string>\r\n    <string name=\"lang\">Switch to Italian version</string>\r\n    <string name=\"impostazionisez2\">System</string>\r\n    <string name=\"elimina_il_tuo_profilo\">Delete your account</string>\r\n    <string name=\"passo1\">Step 1 : Establish connection</string>\r\n    <string name=\"passo2\">Step 2 : Send data</string>\r\n    <string name=\"ricezioneDati\">Receiving data</string>\r\n    <string name=\"passo3\">Step 3: Close connection</string>\r\n    <string name=\"clicca_su\">Click on</string>\r\n    <string name=\"per_attivare_il_bluetooth\">to activate Bluetooth</string>\r\n    <string name=\"e_aggiungi_il_dispostivo_del_contatto\">and add the contact\\'s device</string>\r\n    <string name=\"stato_connessione\">Connection Status</string>\r\n    <string name=\"non_connesso\">Not connected</string>\r\n    <string name=\"invia_i_tuoi_dati\">Send your data</string>\r\n    <string name=\"dati_non_ricevuti\">Data not received</string>\r\n    <string name=\"riavviaProcesso\">If you can\\'t receive data, try closing your connection and restarting the process</string>\r\n    <string name=\"chiudiConnessione\">To close the connection shake the phone or click on the button below</string>\r\n    <string name=\"chiudiConn\">Close connection</string>\r\n    <string name=\"data_evento\">Event date</string>\r\n    <string name=\"ora_inizio_evento\">Event starting time</string>\r\n    <string name=\"crea\">Create</string>\r\n    <string name=\"nome_gruppo\">Group name</string>\r\n    <string name=\"eventoCalendario\">Clicca here to add the event to the Calendar</string>\r\n    <string name=\"condividi_evento\">Share Event</string>\r\n    <string name=\"eliminaEvento\">Click here to delete the event</string>\r\n    <string name=\"richieste_in_attesa\">Pending requests</string>\r\n    <string name=\"richiesteRicevute\">Click here to see received requests</string>\r\n    <string name=\"elimina_evento\">Delete Event</string>\r\n    <string name=\"clicca_qui_per_eliminare_l_evento\">Click here to delete the event</string>\r\n    <string name=\"lista_eventi\">Events List</string>\r\n\r\n    <string name=\"lista_partecipanti\">Participants list</string>\r\n    <string name=\"cliccaListaPartecipanti\">Click here to see the participants list</string>\r\n    <string name=\"elimina_gruppo\">Delete Group</string>\r\n    <string name=\"cliccaquiElimina\">Click here to delete the group</string>\r\n    <string name=\"aggiungi_membro\">Add Member</string>\r\n    <string name=\"emailInvito\">Member\\'s email</string>\r\n    <string name=\"invita_utente\">Invite user</string>\r\n\r\n    <string name=\"iscriviti_ad_un_evento\">Join an event</string>\r\n    <string name=\"lista_gruppi\">Groups list</string>\r\n    <string name=\"inviti_ricevuti\">Received invitations</string>\r\n    <string name=\"info\">Info</string>\r\n    <string name=\"passare_alla_versione_inglese\">Switch to the english version</string>\r\n\r\n    <string name=\"codice_evento\">Event code</string>\r\n    <string name=\"invia_richiesta\">Send request</string>\r\n    <string name=\"registra_contatto\">Register contact</string>\r\n    <string name=\"sono_positivo\">I am positive</string>\r\n    <string name=\"ho_effettuato_il_test\">I did the test</string>\r\n    <string name=\"sono_negativo\">I am negative</string>\r\n    <string name=\"gruppi\">Groups</string>\r\n    <string name=\"aggiorna_rischio\">Update risk</string>\r\n    <string name=\"livello_rischio_contagio\">Infection risk level</string>\r\n\r\n    <string name=\"aggiungi_al_calendario\">Add to the calender</string>\r\n    <string name=\"clicca_qui_per_condividere_l_evento\">Click here to share the event</string>\r\n    <string name=\"cliccaAbbandona\">Click here to abandon the event</string>\r\n    <string name=\"abbandona_evento\">Abandon event</string>\r\n\r\n    <string name=\"abbandona_gruppo\">Abandon Group</string>\r\n    <string name=\"clicca_qui_per_abbandonare_il_gruppo\">Click here to abandon the group</string>     <string name=\"noEventi\">You haven\\'t joined any event</string>\r\n    <string name=\"noGruppi\">You are not part of any group</string>\r\n    <string name=\"noInviti\">No invite received</string>\r\n    <string name=\"noMembri\">There are no members other than you</string>\r\n\r\n    <string name=\"seiSicuroEvento\">Are you sure you want to abandon the event</string>\r\n    <string name=\"si\">Yes</string>\r\n    <string name=\"no\">No</string>\r\n    <string name=\"sei_sicuro_di_voler_abbandonare_il_gruppo\">Are you sure you want to abandon the group?</string>\r\n    <string name=\"sei_sicuro_di_voler_eliminare_il_tuo_profilo\">Are you sure you want to delete your profile</string>\r\n    <string name=\"sei_sicuro_di_voler_eliminare_l_evento\">Are you sure you want to delete the event?</string>\r\n    <string name=\"sei_sicuro_di_voler_eliminare_il_gruppo\">Are you sure you want to delete the group?</string>\r\n    <string name=\"testoInfo\">ContagiAPP is an app developed as a university project, whose purpose is to improve COVID-19 cases tracking.</string>\r\n    <string name=\"progetto_a_cura_di\">Project curated by:</string>\r\n    <string name=\"confermi_di_essere_in_attesa_del_test\">Do you confirm to be waiting for your test?</string>\r\n    <string name=\"confermipos\">Do you confirm to be positive?</string>\r\n    <string name=\"confermineg\">Do you confirm to be negative?</string>\r\n    <string name=\"nome_gruppo_riga\">Group Name</string>\r\n    <string name=\"ruolo\">Role</string>\r\n    <string name=\"nome_evento_riga\">Event name</string>\r\n    <string name=\"accetta\">Accept</string>\r\n    <string name=\"rifiuta\">Refuse</string>\r\n    <string name=\"espelli_membro\">Kick Member</string>\r\n    <string name=\"rischio\">Risk : </string>\r\n    <string name=\"nome_utente\">Username</string>\r\n    <string name=\"i_tuoi_gruppi_menu\">Your Groups</string>\r\n    <string name=\"i_tuoi_eventi_menu\">Your Events</string>\r\n    <string name=\"impostazioni\">Settings</string>\r\n    <string name=\"modifica_profilo\">Edit profile</string>\r\n    <string name=\"eventi\">Events</string>\r\n    <string name=\"luogoEvento\">Event Location</string>\r\n\r\n    <string name=\"admin\">Admin</string>\r\n    <string name=\"member\">Member</string>\r\n    <string name=\"partecipante\">Participant</string>\r\n    <string name=\"authSucc\">Successful Authentication</string>\r\n    <string name=\"authFail\">Failed Authentication</string>\r\n    <string name=\"nomeErr\">Invalid name, please just enter characters</string>\r\n    <string name=\"cognomeErr\">Invalid surname, please just enter characters</string>\r\n    <string name=\"emailErr\">Invalid Email</string>\r\n    <string name=\"passErr\"><![CDATA[Invalid Password: please enter at least 7 characters, at least one between @#$%^&+= and a Capital letter]]></string>\r\n    <string name=\"dataErr\">Invalid date</string>\r\n    <string name=\"oraErr\">Invalid time</string>\r\n    <string name=\"eventSucc\">Event created correctly</string>\r\n    <string name=\"eventFail\">Error during the creation of the event</string>\r\n    <string name=\"highRisk\">Your risk is too high, you can\\'t create an event</string>\r\n    <string name=\"utenteNonTrovato\">User not found</string>\r\n    <string name=\"delEvento\">Event deleted correctly</string>\r\n    <string name=\"err\">Error, try later</string>\r\n    <string name=\"partecipa\">Join now at</string>\r\n    <string name=\"codiceShare\">Code to send the request :</string>\r\n    <string name=\"reqSendErr\">Request already sent</string>\r\n    <string name=\"reqSucc\">Request successfully sent</string>\r\n    <string name=\"eventNotFound\">Event not found</string>\r\n    <string name=\"eventIdErr\">Invalid Event Id </string>\r\n    <string name=\"highRiskReq\">Your risk is too high, you can\\'t send requests</string>\r\n    <string name=\"reqAcc\">Request successfully accepted</string>\r\n    <string name=\"tooHighRiskReq\">Your risk is too high, wait for it to drop to accept the request</string>\r\n    <string name=\"reqDef\">Request successfully refused</string>\r\n    <string name=\"eventAbb\">Event successfully abandoned</string>\r\n    <string name=\"gruppoCreaSucc\">Group successfully created</string>\r\n    <string name=\"gruppoCreaFail\">Group creation error</string>\r\n    <string name=\"invSucc\">Invitation successfully sent</string>\r\n    <string name=\"errCompOp\">We couldn\\'t complete the operation</string>\r\n    <string name=\"invSendErr\">Group successfully deleted</string>\r\n    <string name=\"gruppoDel\">Invitation already sent</string>\r\n    <string name=\"invRef\">Invitation refused</string>\r\n    <string name=\"invAcc\">You\\'re now part of the group :</string>\r\n    <string name=\"utenteBan\">Member banned</string>\r\n    <string name=\"gruppoAbb\">Group abandoned</string>\r\n    <string name=\"insPass\">Enter password</string>\r\n    <string name=\"editSucc\">Data successfully updated</string>\r\n    <string name=\"errPass\">Wrong password</string>\r\n\r\n    <string name=\"notConnected\">Not connected</string>\r\n    <string name=\"connInCorso\">Connecting…</string>\r\n    <string name=\"connCon\">Connected to :</string>\r\n    <string name=\"ConnSucc\">Connection successful</string>\r\n    <string name=\"DatiRecSucc\">Data successfully received</string>\r\n    <string name=\"DatiRecFail\">Data not received</string>\r\n    <string name=\"contRegSucc\">Contact successfully registered</string>\r\n    <string name=\"contRegErr\">Error, we couldn\\'t save the contact</string>\r\n    <string name=\"btNotFound\">Bluetooth not found</string>\r\n    <string name=\"geoPerm\">Geolocalization permission is necessary for the app operations</string>\r\n    <string name=\"concedi\">Allow</string>\r\n    <string name=\"nega\">Deny</string>\r\n    <string name=\"noDisp\">No new devices found</string>\r\n    <string name=\"StartBt\">Click on the device to start the chat</string>\r\n    <string name=\"ricInCorso\">Searching…</string>\r\n\r\n    <string name=\"ConnFail\">Connection failed</string>\r\n    <string name=\"ConnClose\">Connection closed</string>\r\n    <string name=\"logoutSucc\">Login Successful</string>\r\n    <string name=\"logoutFail\">Login Failed</string>\r\n    <string name=\"delUser\">User successfully deleted</string>\r\n    <string name=\"risPos\">You are positive</string>\r\n    <string name=\"risWait\">Waiting for a test result</string>\r\n    <string name=\"risNeg\">You are negative</string>\r\n    <string name=\"noContact\">No new contact found</string>\r\n    <string name=\"riskAgg\">Risk successfully updated</string>\r\n    <string name=\"membri\">Members</string>\r\n    <string name=\"titoloEventoDash\">Event</string>\r\n    <string name=\"modUtente\">Edit User</string>\r\n    <string name=\"richiesteTitolo\">Requests</string>\r\n    <string name=\"gruppiTitolo\">Group</string>\r\n    <string name=\"inserisci_la_password\">Enter Password</string>\r\n    <string name=\"modifica_dati\">Edit Data</string>\r\n    <string name=\"testoSplash1\">The first app that allows you to join or create events in complete safety</string>\r\n    <string name=\"titoloSplash1\">Join or create</string>\r\n    <string name=\"testoSplash2\">Establish a location, date or name for your Events</string>\r\n    <string name=\"testoSplash3\">Keep track of your friends and family risk level</string>\r\n\r\n    <plurals name=\"Ngruppi\">\r\n        <item quantity=\"one\"> You are part of a group: </item>\r\n        <item quantity=\"other\"> You are part of %d groups: </item>\r\n    </plurals>\r\n\r\n    <plurals name=\"Neventi\">\r\n        <item quantity=\"one\"> You are part of an event: </item>\r\n        <item quantity=\"other\"> You are part of %d events: </item>\r\n    </plurals>\r\n\r\n    <plurals name=\"Ninviti\">\r\n        <item quantity=\"one\"> You have a pending invitation: </item>\r\n        <item quantity=\"other\"> You have %d pending invitations: </item>\r\n    </plurals>\r\n</resources>\r\n\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values-en-rGB/strings.xml	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/res/values-en-rGB/strings.xml	(date 1613059650496)
@@ -225,6 +225,11 @@
     <string name="titoloSplash1">Join or create</string>
     <string name="testoSplash2">Establish a location, date or name for your Events</string>
     <string name="testoSplash3">Keep track of your friends and family risk level</string>
+    <string name="InsPos">Report Positivity</string>
+    <string name="username">Username</string>
+    <string name="segnala">Report</string>
+    <string name="risPosAsl">Positivity reported correctly</string>
+    <string name="macchinaDelTempo">Sorry! Unless you\'ve got a time machine you can\'t create events in the past</string>
 
     <plurals name="Ngruppi">
         <item quantity="one"> You are part of a group: </item>
Index: app/src/main/res/layout/no_eventi.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\">\r\n\r\n    <ImageView\r\n        android:id=\"@+id/imageView7\"\r\n        android:layout_width=\"195dp\"\r\n        android:layout_height=\"265dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.27\"\r\n        app:srcCompat=\"@drawable/iconaevento\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/testoNessunEvento\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:fontFamily=\"@font/baloo\"\r\n        android:text=\"@string/noEventi\"\r\n        android:textSize=\"25sp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/imageView7\"\r\n        app:layout_constraintVertical_bias=\"0.066\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/no_eventi.xml	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/res/layout/no_eventi.xml	(date 1613060467637)
@@ -23,7 +23,7 @@
         android:layout_height="wrap_content"
         android:fontFamily="@font/baloo"
         android:text="@string/noEventi"
-        android:textSize="25sp"
+        android:textSize="20sp"
         app:layout_constraintBottom_toBottomOf="parent"
         app:layout_constraintEnd_toEndOf="parent"
         app:layout_constraintStart_toStartOf="parent"
Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <string name=\"app_name\">AppContagi</string>\r\n    <string name=\"navigation_drawer_open\">Open navigation drawer</string>\r\n    <string name=\"navigation_drawer_close\">Close navigation drawer</string>\r\n    <string name=\"nav_header_title\">Android Studio</string>\r\n    <string name=\"nav_header_subtitle\">android.studio@android.com</string>\r\n    <string name=\"nav_header_desc\">Navigation header</string>\r\n    <string name=\"action_settings\">Settings</string>\r\n\r\n\r\n    <!-- Strings related to login -->\r\n    <string name=\"prompt_email\">Email</string>\r\n    <string name=\"prompt_password\">Password</string>\r\n    <string name=\"action_sign_in\">Sign in or register</string>\r\n    <string name=\"action_sign_in_short\">Sign in</string>\r\n    <string name=\"welcome\">\"Welcome!\"</string>\r\n    <string name=\"invalid_username\">Email non valida</string>\r\n    <string name=\"invalid_password\">La password deve contenere almeno 5 caratteri</string>\r\n    <string name=\"login_failed\">\"Login fallito\"</string>\r\n    <string name=\"nome\">Nome</string>\r\n    <string name=\"cognome\">Cognome</string>\r\n    <string name=\"email\">Email</string>\r\n    <string name=\"registrati\">Registrati</string>\r\n    <string name=\"background\">Background</string>\r\n    <string name=\"immagine_prima_schermata\">Immagine Prima schermata</string>\r\n    <string name=\"contagiapp\">ContagiAPP</string>\r\n    <string name=\"lorem\">Lorem</string>\r\n    <string name=\"ipsum\">ipsum</string>\r\n    <string name=\"faketext\">Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit</string>\r\n    <string name=\"tab\">tab</string>\r\n    <string name=\"login\">Login</string>\r\n    <string name=\"logout\">Logout</string>\r\n    <string name=\"loginSplash\">Login/Register</string>\r\n    <string name=\"registrati_adesso\">Registrati Adesso</string>\r\n    <string name=\"password\">Password</string>\r\n    <string name=\"title_activity_main\">Dashboard</string>\r\n\r\n    <string name=\"crea_evento\">Crea Evento</string>\r\n    <string name=\"crea_gruppo\">Crea Gruppo</string>\r\n    <string name=\"nome_evento\">Nome Evento</string>\r\n    <string name=\"ora_inizio\">Ora Inizio</string>\r\n    <string name=\"data\">Data</string>\r\n    <string name=\"i_tuoi_eventi\">i tuoi eventi</string>\r\n    <string name=\"i_tuoi_gruppi\">I tuoi gruppi</string>\r\n\r\n    <string name=\"str_label_btn_send\">Send</string>\r\n    <string name=\"str_menu_search_devices\">Search Devices</string>\r\n    <string name=\"str_menu_bluetooth_on\">Switch on Bluetooth</string>\r\n\r\n    <string name=\"str_paired_devices\">Dispositivi accoppiati</string>\r\n    <string name=\"str_available_devices\">Dispositivi disponibili</string>\r\n    <string name=\"str_menu_scan_devices\">Ricerca Dispositivi</string>\r\n    <string name=\"title_activity_prova\">Prova</string>\r\n    <string name=\"title_activity_ham\">Ham</string>\r\n    <string name=\"title_activity_impostazioni\">Impostazioni</string>\r\n    <string name=\"lang\">Passa alla versione inglese</string>\r\n    <string name=\"impostazionisez2\">Sistema</string>\r\n    <string name=\"elimina_il_tuo_profilo\">Elimina il tuo profilo</string>\r\n    <string name=\"passo1\">1° Passo : Stabilisci la connessione</string>\r\n    <string name=\"passo2\">2° Passo : Invia i dati</string>\r\n    <string name=\"ricezioneDati\">Ricezione dati</string>\r\n    <string name=\"passo3\">3°Passo: Chiudi Connessione</string>\r\n    <string name=\"clicca_su\">Clicca su</string>\r\n    <string name=\"per_attivare_il_bluetooth\">per attivare il Bluetooth</string>\r\n    <string name=\"e_aggiungi_il_dispostivo_del_contatto\">e aggiungi il dispostivo del contatto</string>\r\n    <string name=\"stato_connessione\">Stato connessione</string>\r\n    <string name=\"non_connesso\">Non Connesso</string>\r\n    <string name=\"invia_i_tuoi_dati\">Invia i tuoi dati</string>\r\n    <string name=\"dati_non_ricevuti\">Dati non ricevuti</string>\r\n    <string name=\"riavviaProcesso\">Se non riesci a ricevere i dati ti consigliamo di chiudere la connessione e riavviare il processo</string>\r\n    <string name=\"chiudiConnessione\">Per chiudere la connessione scuoti il telefono oppure clicca sul pulsante qui sotto</string>\r\n    <string name=\"chiudiConn\">Chiudi Connessione</string>\r\n\r\n    <string name=\"data_evento\">Data Evento</string>\r\n    <string name=\"ora_inizio_evento\">Ora Inizio Evento</string>\r\n    <string name=\"crea\">Crea</string>\r\n    <string name=\"nome_gruppo\">Nome Gruppo</string>\r\n    <string name=\"eventoCalendario\">Clicca qui per aggiungere l\\'evento al calendario</string>\r\n    <string name=\"condividi_evento\">Condividi Evento</string>\r\n    <string name=\"eliminaEvento\">Clicca qui per eliminare l\\'evento</string>\r\n    <string name=\"richieste_in_attesa\">Richieste in attesa</string>\r\n    <string name=\"richiesteRicevute\">Clicca qui per vedere le richieste ricevute</string>\r\n    <string name=\"elimina_evento\">Elimina Evento</string>\r\n    <string name=\"clicca_qui_per_eliminare_l_evento\">Clicca qui per eliminare l\\'evento</string>\r\n\r\n\r\n    <string name=\"lista_partecipanti\">Lista Partecipanti</string>\r\n    <string name=\"cliccaListaPartecipanti\">Clicca qui per vedere la lista dei partecipanti</string>\r\n    <string name=\"elimina_gruppo\">Elimina Gruppo</string>\r\n    <string name=\"cliccaquiElimina\">Clicca qui per eliminare il gruppo</string>\r\n    <string name=\"aggiungi_membro\">Aggiungi Membro</string>\r\n    <string name=\"emailInvito\">Email utente da invitare</string>\r\n    <string name=\"invita_utente\">Invita Utente</string>\r\n    <string name=\"lista_eventi\">Lista Eventi</string>\r\n\r\n    <string name=\"iscriviti_ad_un_evento\">Iscriviti ad un evento</string>\r\n    <string name=\"lista_gruppi\">Lista Gruppi</string>\r\n    <string name=\"inviti_ricevuti\">Inviti Ricevuti</string>\r\n    <string name=\"info\">Info</string>\r\n    <string name=\"passare_alla_versione_inglese\">Passare alla versione inglese</string>\r\n\r\n    <string name=\"codice_evento\">Codice Evento</string>\r\n    <string name=\"invia_richiesta\">Invia Richiesta</string>\r\n    <string name=\"registra_contatto\">Registra Contatto</string>\r\n    <string name=\"sono_positivo\">Sono positivo</string>\r\n    <string name=\"ho_effettuato_il_test\">Ho effettuato il test</string>\r\n    <string name=\"sono_negativo\">Sono negativo</string>\r\n    <string name=\"gruppi\">Gruppi</string>\r\n    <string name=\"aggiorna_rischio\">Aggiorna rischio</string>\r\n    <string name=\"livello_rischio_contagio\">Livello rischio contagio</string>\r\n\r\n\r\n    <string name=\"aggiungi_al_calendario\">Aggiungi al calendario</string>\r\n    <string name=\"clicca_qui_per_condividere_l_evento\">Clicca qui per condividere l\\'evento</string>\r\n    <string name=\"cliccaAbbandona\">Clicca qui per abbandonare l\\'evento</string>\r\n    <string name=\"abbandona_evento\">Abbandona Evento</string>\r\n\r\n\r\n    <string name=\"abbandona_gruppo\">Abbandona Gruppo</string>\r\n    <string name=\"clicca_qui_per_abbandonare_il_gruppo\">Clicca qui per abbandonare il gruppo</string>\r\n    <string name=\"noEventi\">Non sei iscritto a nessun evento</string>\r\n    <string name=\"noGruppi\">Non fai parte di nessun gruppo</string>\r\n    <string name=\"noInviti\">Nessun invito ricevuto</string>\r\n    <string name=\"noMembri\">Non ci sono membri oltre te</string>\r\n\r\n    <string name=\"seiSicuroEvento\">Sei sicuro di voler abbandonare l\\'evento?</string>\r\n    <string name=\"si\">SI</string>\r\n    <string name=\"no\">NO</string>\r\n    <string name=\"sei_sicuro_di_voler_abbandonare_il_gruppo\">Sei sicuro di voler abbandonare il gruppo?</string>\r\n    <string name=\"sei_sicuro_di_voler_eliminare_il_tuo_profilo\">Sei sicuro di voler eliminare il tuo profilo?</string>\r\n    <string name=\"sei_sicuro_di_voler_eliminare_l_evento\">Sei sicuro di voler eliminare l\\'evento?</string>\r\n    <string name=\"sei_sicuro_di_voler_eliminare_il_gruppo\">Sei sicuro di voler eliminare il gruppo?</string>\r\n    <string name=\"testoInfo\">ContagiAPP è un\\'app sviluppata per un progetto universitario, con lo scopo di migliorare il tracciamento dei casi del COVID-19</string>\r\n    <string name=\"progetto_a_cura_di\">Progetto a cura di:</string>\r\n    <string name=\"confermi_di_essere_in_attesa_del_test\">Confermi di essere in attesa del test?</string>\r\n    <string name=\"confermipos\">Confermi di essere positivo?</string>\r\n    <string name=\"confermineg\">Confermi di essere negativo?</string>\r\n    <string name=\"nome_gruppo_riga\">Nome Gruppo</string>\r\n    <string name=\"ruolo\">Ruolo</string>\r\n    <string name=\"nome_evento_riga\">Nome Evento</string>\r\n    <string name=\"accetta\">accetta</string>\r\n    <string name=\"rifiuta\">Rifiuta</string>\r\n    <string name=\"espelli_membro\">Espelli Membro</string>\r\n\r\n    <string name=\"nome_utente\">Nome Utente</string>\r\n    <string name=\"rischio\">Rischio : </string>\r\n    <string name=\"i_tuoi_gruppi_menu\">I tuoi gruppi</string>\r\n    <string name=\"i_tuoi_eventi_menu\">I tuoi eventi</string>\r\n    <string name=\"impostazioni\">Impostazioni</string>\r\n    <string name=\"modifica_profilo\">Modifica Profilo</string>\r\n    <string name=\"eventi\">Eventi</string>\r\n    <string name=\"luogoEvento\">Luogo Evento</string>\r\n    <string name=\"admin\">Admin</string>\r\n    <string name=\"member\">Membro</string>\r\n    <string name=\"partecipante\">Partecipante</string>\r\n    <string name=\"authSucc\">Autenticazione Riuscita</string>\r\n    <string name=\"authFail\">Autenticazione Fallita</string>\r\n    <string name=\"nomeErr\">Nome non valido, inserire solo caratteri</string>\r\n    <string name=\"cognomeErr\">Cognome non valido inserire solo caratteri</string>\r\n    <string name=\"emailErr\">Email non valida</string>\r\n    <string name=\"passErr\"><![CDATA[Password non Valida: minimo 7 caratteri, inserire almeno @#$%^&+= e una maiuscola]]></string>\r\n    <string name=\"dataErr\">Data non valida</string>\r\n    <string name=\"oraErr\">Ora non valida</string>\r\n    <string name=\"eventSucc\">Evento creato correttamente</string>\r\n    <string name=\"eventFail\">Errore durante la creazione dell\\'evento</string>\r\n    <string name=\"highRisk\">Il tuo rischio è troppo alto , non puoi creare l\\'evento</string>\r\n    <string name=\"utenteNonTrovato\">Utente non trovato</string>\r\n    <string name=\"delEvento\">Evento eliminato correttamente</string>\r\n    <string name=\"err\">Errore, riprova più tardi</string>\r\n    <string name=\"partecipa\">\"Partecipa adesso a\"</string>\r\n    <string name=\"codiceShare\">\"Codice per inviare la richiesta :\"</string>\r\n    <string name=\"reqSendErr\">Richiesta già inoltrata</string>\r\n    <string name=\"reqSucc\">Richiesta inoltrtata correttamente</string>\r\n    <string name=\"eventNotFound\">Evento non trovato</string>\r\n    <string name=\"eventIdErr\">Evento Id Non valido</string>\r\n    <string name=\"highRiskReq\">\" Il tuo rischio è troppo alto ,non puoi inviare richieste\"</string>\r\n    <string name=\"reqAcc\">Richiesta accettata correttamente</string>\r\n    <string name=\"tooHighRiskReq\">Il rischio è troppo alto ,aspetta che si abbassi per accettarlo</string>\r\n    <string name=\"reqDef\">Richiesta rifiutata correttamente</string>\r\n    <string name=\"eventAbb\">Evento abbandonato correttamente</string>\r\n    <string name=\"gruppoCreaSucc\">Gruppo creato correttamente</string>\r\n    <string name=\"gruppoCreaFail\">Errore creazione gruppo</string>\r\n    <string name=\"invSucc\">Invito inviato correttamente</string>\r\n    <string name=\"errCompOp\">Non siamo riusciti a completare l\\'operazion</string>\r\n    <string name=\"invSendErr\">Invito già inviato</string>\r\n    <string name=\"gruppoDel\">Gruppo Eliminato correttamente</string>\r\n    <string name=\"invRef\">Invito rifiutato</string>\r\n    <string name=\"invAcc\">Ora fai parte del gruppo :</string>\r\n    <string name=\"utenteBan\">Utente espulso</string>\r\n    <string name=\"gruppoAbb\">Gruppo abbandonato</string>\r\n    <string name=\"insPass\">Inserisci la password</string>\r\n    <string name=\"editSucc\">Dati aggiornati correttamente</string>\r\n    <string name=\"errPass\">Password errata</string>\r\n    <string name=\"notConnected\">Non Connesso</string>\r\n    <string name=\"connInCorso\">Connessione in corso…</string>\r\n    <string name=\"connCon\">Connesso con :</string>\r\n    <string name=\"ConnSucc\">Connessione Riuscita</string>\r\n    <string name=\"DatiRecSucc\">Dati ricevuti correttamente</string>\r\n    <string name=\"DatiRecFail\">Dati non ricevuti</string>\r\n    <string name=\"contRegSucc\">Contatto registrato correttamente</string>\r\n    <string name=\"contRegErr\">Errore non siamo riusciti a salvare il contatto</string>\r\n    <string name=\"btNotFound\">Bluetooth non trovato</string>\r\n    <string name=\"geoPerm\">Il permesso di geolicalizzazione è necessario per il funzionamento dell\\'app .</string>\r\n    <string name=\"concedi\">Concedi</string>\r\n    <string name=\"nega\">Nega</string>\r\n    <string name=\"noDisp\">Nessun nuovo dispositivo trovato</string>\r\n    <string name=\"StartBt\">Clicca sul dispositivo per far partire la chat</string>\r\n    <string name=\"ricInCorso\">Ricerca in corso…</string>\r\n\r\n    <string name=\"ConnFail\">Connesione Fallita</string>\r\n    <string name=\"ConnClose\">Connessione Chiusa</string>\r\n    <string name=\"logoutSucc\">Logout Riuscito</string>\r\n    <string name=\"logoutFail\">LogoutFallito</string>\r\n    <string name=\"delUser\">Utente eliminato correttamente</string>\r\n    <string name=\"risPos\">Risulti essere positivo</string>\r\n    <string name=\"risWait\">Risulti essere in attesa</string>\r\n    <string name=\"risNeg\">Risulti essere negativo</string>\r\n    <string name=\"noContact\">Nessun nuovo Contatto trovato</string>\r\n    <string name=\"riskAgg\">Rischio aggiornato correttamente</string>\r\n    <string name=\"membri\">Membri</string>\r\n    <string name=\"titoloEventoDash\">Evento</string>\r\n    <string name=\"modUtente\">Modifica Utente</string>\r\n    <string name=\"richiesteTitolo\">Richieste</string>\r\n    <string name=\"gruppiTitolo\">Gruppo</string>\r\n    <string name=\"inserisci_la_password\">Inserisci la password</string>\r\n    <string name=\"modifica_dati\">Modifica Dati</string>\r\n    <string name=\"inserisci_il_nuovo_cognome\">Nuovo cognome</string>\r\n    <string name=\"inserisci_il_nuovo_nome\">Nuovo nome</string>\r\n    <string name=\"testoSplash1\">La prima app che ti permette di partecipare e organizzare incontri in tutta sicurezza</string>\r\n    <string name=\"titoloSplash1\">Partecipa o crea</string>\r\n    <string name=\"testoSplash2\">Stabilisci il luogo, la data e il nome dei tuoi eventi</string>\r\n    <string name=\"testoSplash3\">Tieni traccia del rischio di contagio dei tuoi amici e familiari</string>\r\n\r\n\r\n    <plurals name=\"Ngruppi\">\r\n        <item quantity=\"one\"> Fai parte di un gruppo: </item>\r\n        <item quantity=\"other\"> Fai parte di %d gruppi: </item>\r\n    </plurals>\r\n\r\n    <plurals name=\"Neventi\">\r\n        <item quantity=\"one\"> Fai parte di un evento: </item>\r\n        <item quantity=\"other\"> Fai parte di %d eventi: </item>\r\n    </plurals>\r\n\r\n    <plurals name=\"Ninviti\">\r\n        <item quantity=\"one\"> Hai un invito in attesa: </item>\r\n        <item quantity=\"other\"> Hai %d in attesa: </item>\r\n    </plurals>\r\n\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values/strings.xml	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/res/values/strings.xml	(date 1613059582215)
@@ -230,6 +230,11 @@
     <string name="titoloSplash1">Partecipa o crea</string>
     <string name="testoSplash2">Stabilisci il luogo, la data e il nome dei tuoi eventi</string>
     <string name="testoSplash3">Tieni traccia del rischio di contagio dei tuoi amici e familiari</string>
+    <string name="InsPos">Segnala Positività</string>
+    <string name="username">Username</string>
+    <string name="segnala">Segnala</string>
+    <string name="risPosAsl">Positività segnalata correttamente</string>
+    <string name="macchinaDelTempo">Peccato, a meno che tu non abbia una macchina del tempo non puoi creare eventi nel passato</string>
 
 
     <plurals name="Ngruppi">
Index: app/src/main/java/it/gadg/contagiapp/modelli/User.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package it.gadg.contagiapp.modelli;\r\n\r\npublic class User  {\r\n    public String nome;\r\n    public String cognome;\r\n    public String email;\r\n    public Long rischio;\r\n    public String etichetta;\r\n    public String uid;\r\n    public boolean ruolo;\r\n\r\n\r\n    public User(String nome,String cognome,String email){\r\n        this.nome = nome;\r\n        this.cognome = cognome;\r\n        this.email = email;\r\n        this.rischio = 0L;\r\n        this.etichetta=\"super\";\r\n        this.ruolo = false;\r\n\r\n\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/it/gadg/contagiapp/modelli/User.java	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/java/it/gadg/contagiapp/modelli/User.java	(date 1613058308383)
@@ -1,6 +1,8 @@
 package it.gadg.contagiapp.modelli;
 
-public class User  {
+import java.io.Serializable;
+
+public class User implements Serializable {
     public String nome;
     public String cognome;
     public String email;
Index: app/src/main/java/it/gadg/contagiapp/HomeEventiActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package it.gadg.contagiapp;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\n\r\nimport android.content.Intent;\r\nimport android.content.res.Configuration;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport it.gadg.contagiapp.evento.CreaEventoActivity;\r\nimport it.gadg.contagiapp.evento.InviaPartecipazioneEvento;\r\nimport it.gadg.contagiapp.evento.ListaEventiActivity;\r\nimport it.gadg.contagiapp.splash.Splash;\r\nimport it.gadg.contagiapp.utente.ModificaUtenteActivity;\r\n\r\n\r\npublic class HomeEventiActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n\r\n    DrawerLayout drawerLayout;\r\n    NavigationView navigationView;\r\n    Toolbar toolbar;\r\n    TextView textView;\r\n    TextView nomeMenu;\r\n    TextView emailMenu;\r\n\r\n    String nomeUtente;\r\n    String emailUtente;\r\n\r\n    private FirebaseAuth mAuth; //dichiaro variabile per l'auenticazione firebase\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        int orientation = this.getResources().getConfiguration().orientation;\r\n        if (orientation == Configuration.ORIENTATION_PORTRAIT) {\r\n            setContentView(R.layout.activity_home_eventi);\r\n        } else {\r\n            setContentView(R.layout.activity_home_evento_landscape);\r\n        }\r\n\r\n\r\n\r\n        getWindow().setNavigationBarColor(ContextCompat.getColor(this, R.color.colorPrimaryDark));\r\n\r\n\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        /*---------------------MENU------------------------*/\r\n        drawerLayout=findViewById(R.id.drawer_layout);\r\n        navigationView=findViewById(R.id.nav_view);\r\n        textView=findViewById(R.id.positvoText);\r\n        toolbar=findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n\r\n        View headerLayout = navigationView.getHeaderView(0);\r\n        nomeMenu=headerLayout.findViewById(R.id.nomeMenu);\r\n        Intent i = getIntent();\r\n        nomeUtente =i.getStringExtra(\"nome\");\r\n        nomeMenu.setText(nomeUtente);\r\n        emailUtente=i.getStringExtra(\"email\");\r\n        emailMenu=headerLayout.findViewById(R.id.emailMenu);\r\n        emailMenu.setText(emailUtente);\r\n\r\n        navigationView.bringToFront();\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar,R.string.navigation_drawer_open,R.string.navigation_drawer_close);\r\n        drawerLayout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void finish() {\r\n        super.finish();\r\n        overridePendingTransition(R.anim.slide_up_in, R.anim.slide_up_out);\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n\r\n        switch (item.getItemId()){\r\n            case R.id.nav_home:\r\n                this.home();\r\n                break;\r\n            case R.id.nav_gruppi:\r\n                this.homegruppi();\r\n                break;\r\n\r\n            case R.id.nav_eventi:\r\n                break;\r\n            case R.id.nav_logout:\r\n                this.logout();\r\n                break;\r\n            case R.id.nav_profilo:\r\n                this.modificaUtente();\r\n                break;\r\n            case R.id.nav_contatto:\r\n                this.registraContatto();\r\n                break;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n\r\n\r\n\r\n    public void creaEvento(View view) {\r\n        Intent i = new Intent(getApplicationContext(), CreaEventoActivity.class);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n\r\n    }\r\n\r\n    public void ListaEventi(View view) {\r\n        Intent i = new Intent(getApplicationContext(), ListaEventiActivity.class);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n    }\r\n\r\n\r\n    public void cercaEvento(View view) {\r\n        Intent i = new Intent(getApplicationContext(), InviaPartecipazioneEvento.class);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n    }\r\n\r\n\r\n\r\n\r\n    //FUNZIONI MENU\r\n\r\n    private void home() {\r\n        Intent i = new Intent(getApplicationContext(), MainActivity.class);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n    }\r\n\r\n    private void homegruppi() {\r\n        Intent i = new Intent(getApplicationContext(), HomeGruppiActivity.class);\r\n        i.putExtra(\"nome\",nomeUtente);\r\n        i.putExtra(\"email\",emailUtente);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n    }\r\n\r\n    public void registraContatto() {\r\n\r\n        Intent i = new Intent(getApplicationContext(), BtActivity.class);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n    }\r\n\r\n    public void modificaUtente() {\r\n        Intent i = new Intent(getApplicationContext(), ModificaUtenteActivity.class);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n\r\n    }\r\n\r\n\r\n    public void logout() {\r\n        mAuth.signOut();\r\n        if (null == FirebaseAuth.getInstance().getCurrentUser()) {\r\n            Toast.makeText(getApplicationContext(), getResources().getString(R.string.logoutSucc),\r\n                    Toast.LENGTH_SHORT).show();\r\n            Intent i = new Intent(getApplicationContext(), Splash.class);\r\n            startActivity(i);\r\n        } else {\r\n            Toast.makeText(getApplicationContext(), getResources().getString(R.string.logoutFail),\r\n                    Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n    @Override\r\n    public void onConfigurationChanged(@NotNull Configuration newConfig) {\r\n        super.onConfigurationChanged(newConfig);\r\n\r\n        if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {\r\n            setContentView(R.layout.activity_home_evento_landscape);\r\n        } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT){\r\n            setContentView(R.layout.activity_home_eventi);\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/it/gadg/contagiapp/HomeEventiActivity.java	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/java/it/gadg/contagiapp/HomeEventiActivity.java	(date 1613058800008)
@@ -9,7 +9,6 @@
 
 import android.content.Intent;
 import android.content.res.Configuration;
-import android.os.Build;
 import android.os.Bundle;
 import android.view.MenuItem;
 import android.view.View;
@@ -24,6 +23,7 @@
 import it.gadg.contagiapp.evento.CreaEventoActivity;
 import it.gadg.contagiapp.evento.InviaPartecipazioneEvento;
 import it.gadg.contagiapp.evento.ListaEventiActivity;
+import it.gadg.contagiapp.modelli.User;
 import it.gadg.contagiapp.splash.Splash;
 import it.gadg.contagiapp.utente.ModificaUtenteActivity;
 
@@ -37,6 +37,8 @@
     TextView nomeMenu;
     TextView emailMenu;
 
+    User utenteLoggato;
+
     String nomeUtente;
     String emailUtente;
 
@@ -54,6 +56,8 @@
 
 
 
+
+
         getWindow().setNavigationBarColor(ContextCompat.getColor(this, R.color.colorPrimaryDark));
 
 
@@ -64,18 +68,16 @@
         drawerLayout=findViewById(R.id.drawer_layout);
         navigationView=findViewById(R.id.nav_view);
         textView=findViewById(R.id.positvoText);
-        toolbar=findViewById(R.id.toolbar);
+        toolbar=findViewById(R.id.toolbarAsl);
         setSupportActionBar(toolbar);
 
-
+        Intent i = getIntent();
+        utenteLoggato = (User) i.getSerializableExtra("utenteLoggato");
         View headerLayout = navigationView.getHeaderView(0);
         nomeMenu=headerLayout.findViewById(R.id.nomeMenu);
-        Intent i = getIntent();
-        nomeUtente =i.getStringExtra("nome");
-        nomeMenu.setText(nomeUtente);
-        emailUtente=i.getStringExtra("email");
+        nomeMenu.setText(utenteLoggato.nome + " " +utenteLoggato.cognome);
         emailMenu=headerLayout.findViewById(R.id.emailMenu);
-        emailMenu.setText(emailUtente);
+        emailMenu.setText(utenteLoggato.email);
 
         navigationView.bringToFront();
         ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar,R.string.navigation_drawer_open,R.string.navigation_drawer_close);
@@ -149,14 +151,14 @@
 
     private void home() {
         Intent i = new Intent(getApplicationContext(), MainActivity.class);
+        i.putExtra("utenteLoggato",utenteLoggato);
         startActivity(i);
         overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);
     }
 
     private void homegruppi() {
         Intent i = new Intent(getApplicationContext(), HomeGruppiActivity.class);
-        i.putExtra("nome",nomeUtente);
-        i.putExtra("email",emailUtente);
+        i.putExtra("utenteLoggato",utenteLoggato);
         startActivity(i);
         overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);
     }
Index: app/src/main/res/layout/activity_home_gruppi.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/drawer_layout\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:fitsSystemWindows=\"true\"\r\n    tools:context=\".HomeGruppiActivity\"\r\n      >\r\n\r\n    <com.google.android.material.navigation.NavigationView\r\n        android:id=\"@+id/nav_view\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_gravity=\"start\"\r\n        android:background=\"@color/colorPrimaryDark\"\r\n        app:itemTextColor=\"@color/white\"\r\n        app:itemIconTint=\"@color/white\"\r\n        app:headerLayout=\"@layout/header\"\r\n        app:menu=\"@menu/main_menu\">\r\n\r\n    </com.google.android.material.navigation.NavigationView>\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:background=\"@drawable/bg_home2\">\r\n\r\n        <androidx.appcompat.widget.Toolbar\r\n            android:id=\"@+id/toolbar\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@android:color/transparent\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintVertical_bias=\"0.0\"\r\n            app:theme=\"@style/ThemeOverlay.AppCompat.Light\" />\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/cardViewCreaGruppo\"\r\n            android:layout_width=\"130dp\"\r\n            android:layout_height=\"135dp\"\r\n            android:layout_marginTop=\"60dp\"\r\n            android:onClick=\"creaGruppo\"\r\n            app:cardCornerRadius=\"9dp\"\r\n            app:cardElevation=\"9dp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.501\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/toolbar\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imageViewCreaGruppo\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"59dp\"\r\n                android:layout_marginTop=\"15dp\"\r\n                app:srcCompat=\"@drawable/create\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textCreaGruppo\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"80dp\"\r\n                android:fontFamily=\"@font/baloo\"\r\n                android:text=\"@string/crea_gruppo\"\r\n                android:textAlignment=\"center\"\r\n                android:textColor=\"@color/quantum_grey700\"\r\n                android:textSize=\"20sp\" />\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/cardViewListaGruppi\"\r\n            android:layout_width=\"130dp\"\r\n            android:layout_height=\"135dp\"\r\n            android:layout_marginTop=\"40dp\"\r\n            android:onClick=\"ListaGruppi\"\r\n            app:cardCornerRadius=\"9dp\"\r\n            app:cardElevation=\"9dp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.501\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/cardViewCreaGruppo\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imageView3\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"59dp\"\r\n                android:layout_marginTop=\"15dp\"\r\n                app:srcCompat=\"@drawable/checklist\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textView\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"80dp\"\r\n                android:fontFamily=\"@font/baloo\"\r\n                android:text=\"@string/lista_gruppi\"\r\n                android:textAlignment=\"center\"\r\n                android:textColor=\"@color/quantum_grey700\"\r\n                android:textSize=\"20sp\" />\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/cardViewInvitiGruppi\"\r\n            android:layout_width=\"130dp\"\r\n            android:layout_height=\"135dp\"\r\n            android:layout_marginTop=\"40dp\"\r\n            android:onClick=\"ListaInviti\"\r\n            app:cardCornerRadius=\"9dp\"\r\n            app:cardElevation=\"9dp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.501\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/cardViewListaGruppi\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imageViewInviti\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"59dp\"\r\n                android:layout_marginTop=\"15dp\"\r\n                app:srcCompat=\"@drawable/invitation\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textViewInviti\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"80dp\"\r\n                android:fontFamily=\"@font/baloo\"\r\n                android:text=\"@string/inviti_ricevuti\"\r\n                android:textAlignment=\"center\"\r\n                android:textColor=\"@color/quantum_grey700\"\r\n                android:textSize=\"19sp\" />\r\n        </androidx.cardview.widget.CardView>\r\n\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n\r\n</androidx.drawerlayout.widget.DrawerLayout>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_home_gruppi.xml	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/res/layout/activity_home_gruppi.xml	(date 1612979401078)
@@ -28,7 +28,7 @@
         android:background="@drawable/bg_home2">
 
         <androidx.appcompat.widget.Toolbar
-            android:id="@+id/toolbar"
+            android:id="@+id/toolbarAsl"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:background="@android:color/transparent"
@@ -49,7 +49,7 @@
             app:layout_constraintEnd_toEndOf="parent"
             app:layout_constraintHorizontal_bias="0.501"
             app:layout_constraintStart_toStartOf="parent"
-            app:layout_constraintTop_toBottomOf="@+id/toolbar">
+            app:layout_constraintTop_toBottomOf="@+id/toolbarAsl">
 
             <ImageView
                 android:id="@+id/imageViewCreaGruppo"
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    package=\"it.gadg.contagiapp\">\r\n\r\n    <uses-permission android:name=\"android.permission.READ_CALENDAR\" />\r\n    <uses-permission android:name=\"android.permission.WRITE_CALENDAR\" />\r\n    <uses-permission android:name=\"android.permission.BLUETOOTH\" />\r\n    <uses-permission android:name=\"android.permission.BLUETOOTH_ADMIN\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher_square\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_circle\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\">\r\n        <activity android:name=\".MainActivityAsl\"\r\n            android:screenOrientation=\"portrait\"\r\n            android:label=\"Dashboard ASL\"\r\n            />\r\n        <activity\r\n            android:name=\".Impostazioni\"\r\n            android:label=\"@string/title_activity_impostazioni\" />\r\n        <activity\r\n            android:name=\".HomeGruppiActivity\"\r\n            android:configChanges=\"orientation|screenSize\"\r\n            android:label=\"Dashboard Gruppi\"\r\n            android:theme=\"@style/AppTheme.NoActionBar\" />\r\n        <activity\r\n            android:name=\".HomeEventiActivity\"\r\n            android:configChanges=\"orientation|screenSize\"\r\n            android:theme=\"@style/AppTheme.NoActionBar\" />\r\n        <activity\r\n            android:name=\".gruppo.MembriGruppo\"\r\n            android:label=\"@string/membri\"\r\n            android:screenOrientation=\"portrait\" />\r\n        <activity\r\n            android:name=\".BtActivity\"\r\n            android:screenOrientation=\"portrait\" />\r\n        <activity\r\n            android:name=\".evento.VisualizzaEventoActivity\"\r\n            android:label=\"@string/titoloEventoDash\"\r\n            android:screenOrientation=\"portrait\" />\r\n        <activity\r\n            android:name=\".utente.ModificaUtenteActivity\"\r\n            android:label=\"@string/modUtente\"\r\n            android:screenOrientation=\"portrait\" />\r\n        <activity\r\n            android:name=\".evento.RichiesteEvento\"\r\n            android:label=\"@string/richiesteTitolo\"\r\n            android:screenOrientation=\"portrait\" />\r\n        <activity\r\n            android:name=\".evento.GestisciEvento\"\r\n            android:label=\"@string/titoloEventoDash\"\r\n            android:screenOrientation=\"portrait\" />\r\n        <activity\r\n            android:name=\".evento.InviaPartecipazioneEvento\"\r\n            android:label=\"@string/titoloEventoDash\"\r\n            android:screenOrientation=\"portrait\" />\r\n        <activity\r\n            android:name=\".gruppo.InvitiGruppi\"\r\n            android:label=\"@string/inviti_ricevuti\"\r\n            android:screenOrientation=\"portrait\" />\r\n        <activity\r\n            android:name=\".gruppo.VisualizzaGruppoActivity\"\r\n            android:label=\"@string/gruppiTitolo\"\r\n            android:screenOrientation=\"portrait\" />\r\n        <activity\r\n            android:name=\".gruppo.GestisciGruppoActivity\"\r\n            android:label=\"@string/gruppiTitolo\"\r\n            android:screenOrientation=\"portrait\" />\r\n        <activity\r\n            android:name=\".gruppo.ListaGruppiActivity\"\r\n            android:label=\"@string/gruppiTitolo\"\r\n            android:screenOrientation=\"portrait\" />\r\n        <activity\r\n            android:name=\".evento.ListaEventiActivity\"\r\n            android:label=\"@string/eventi\"\r\n            android:screenOrientation=\"portrait\" />\r\n        <activity\r\n            android:name=\".evento.CreaEventoActivity\"\r\n            android:label=\"@string/crea_evento\"\r\n            android:screenOrientation=\"portrait\" />\r\n        <activity\r\n            android:name=\".gruppo.CreaGruppoActivity\"\r\n            android:label=\"@string/crea_gruppo\"\r\n            android:screenOrientation=\"portrait\" />\r\n        <activity\r\n            android:name=\".DeviceListActivity\"\r\n            android:configChanges=\"orientation|screenSize\" />\r\n        <activity\r\n            android:name=\".MainActivity\"\r\n            android:configChanges=\"orientation|screenSize\"\r\n            android:label=\"@string/title_activity_main\"\r\n            android:theme=\"@style/AppTheme.NoActionBar\" />\r\n        <activity\r\n            android:name=\".autenticazione.RegisterActivity\"\r\n            android:theme=\"@style/AppTheme.NoActionBar\" />\r\n        <activity\r\n            android:name=\".autenticazione.Login\"\r\n            android:label=\"@string/app_name\"\r\n            android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\" />\r\n        <activity\r\n            android:name=\".splash.Splash\"\r\n            android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n\r\n        <meta-data\r\n            android:name=\"preloaded_fonts\"\r\n            android:resource=\"@array/preloaded_fonts\" />\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/AndroidManifest.xml	(date 1612979400927)
@@ -19,6 +19,7 @@
         <activity android:name=".MainActivityAsl"
             android:screenOrientation="portrait"
             android:label="Dashboard ASL"
+            android:theme="@style/AppTheme.NoActionBar"
             />
         <activity
             android:name=".Impostazioni"
Index: app/src/main/java/it/gadg/contagiapp/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package it.gadg.contagiapp;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.res.Configuration;\r\nimport android.database.Cursor;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport it.gadg.contagiapp.modelli.User;\r\nimport it.gadg.contagiapp.splash.Splash;\r\nimport it.gadg.contagiapp.utente.ModificaUtenteActivity;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener  {\r\n\r\n    private FirebaseAuth mAuth; //dichiaro variabile per l'auenticazione firebase\r\n\r\n    private AlertDialog.Builder dialogBuilder;\r\n    private AlertDialog dialog;\r\n    private TextView richiestaPopup;\r\n    private TextView LabelRischio;\r\n    private CardView siPopup, noPopup;\r\n\r\n    //Variabili menù hamburger\r\n    DrawerLayout drawerLayout;\r\n    NavigationView navigationView;\r\n    Toolbar toolbar;\r\n    TextView textView;\r\n    TextView nomeMenu;\r\n    TextView emailMenu;\r\n\r\n    public String id;\r\n\r\n    FirebaseFirestore db;\r\n\r\n    CardView positivoB;\r\n    CardView negativoB;\r\n    CardView inAttesaB;\r\n\r\n    ImageView imgTest;\r\n\r\n    private int RISCHIO_POSITIVO = 100;\r\n    private int RISCHIO_TEST = 50;\r\n    private int RISCHIO_NEGATIVO = 0;\r\n\r\n    private int RISCHIO_ROSSO=49;\r\n    private int RISCHIO_GIALLO=24;\r\n\r\n    User utenteLoggato;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n\r\n        getWindow().setNavigationBarColor(ContextCompat.getColor(this, R.color.colorPrimaryDark));\r\n\r\n\r\n\r\n        /*---------------------MENU------------------------*/\r\n        drawerLayout=findViewById(R.id.drawer_layout);\r\n        navigationView=findViewById(R.id.nav_view);\r\n        textView=findViewById(R.id.positvoText);\r\n        toolbar=findViewById(R.id.toolbar);\r\n\r\n        View headerLayout = navigationView.getHeaderView(0);\r\n        nomeMenu=headerLayout.findViewById(R.id.nomeMenu);\r\n        emailMenu=headerLayout.findViewById(R.id.emailMenu);\r\n\r\n\r\n\r\n\r\n        setSupportActionBar(toolbar);\r\n\r\n\r\n        navigationView.bringToFront();\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar,R.string.navigation_drawer_open,R.string.navigation_drawer_close);\r\n        drawerLayout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n\r\n\r\n        positivoB = findViewById(R.id.positivoB);\r\n        negativoB = findViewById(R.id.invitabutton);\r\n        inAttesaB = findViewById(R.id.inAttesaB);\r\n        LabelRischio = findViewById(R.id.LabelRischio);\r\n        imgTest = findViewById(R.id.imgTest);\r\n\r\n        //Estraggo l'utente\r\n        mAuth = FirebaseAuth.getInstance();\r\n        FirebaseUser u = mAuth.getCurrentUser();\r\n        id = u.getUid();\r\n        db = FirebaseFirestore.getInstance();\r\n        db.collection(\"Utenti\")\r\n                .document(id)\r\n                .get()\r\n                .addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                        DocumentSnapshot document = task.getResult();\r\n                        utenteLoggato = new User(document.get(\"nome\").toString(),document.get(\"cognome\").toString(),document.get(\"email\").toString());\r\n                        utenteLoggato.etichetta = (String) document.get(\"etichetta\");\r\n                        utenteLoggato.rischio = (Long) document.get(\"rischio\");\r\n                        utenteLoggato.uid = document.getId();\r\n\r\n\r\n                        nomeMenu.setText(utenteLoggato.nome + \" \" +utenteLoggato.cognome);\r\n                        emailMenu.setText(utenteLoggato.email);\r\n\r\n                        controllaAggiornamento();\r\n                        String temp =LabelRischio.getText().toString()+ utenteLoggato.rischio + \"%\";\r\n\r\n                        if(utenteLoggato.rischio>RISCHIO_ROSSO){\r\n                            LabelRischio.setTextColor(ContextCompat.getColor(getApplicationContext(),R.color.colorLigthRed));\r\n                        }else if ((utenteLoggato.rischio>RISCHIO_GIALLO)){\r\n                            LabelRischio.setTextColor(ContextCompat.getColor(getApplicationContext(),R.color.colorYellow));\r\n                        }\r\n\r\n                        LabelRischio.setText(temp);\r\n\r\n                        if (utenteLoggato.etichetta.equals(\"super\") || utenteLoggato.etichetta.equals(\"sicuro\") || utenteLoggato.etichetta.equals(\"incerto\")) {\r\n                            inAttesaB.setVisibility(View.VISIBLE);\r\n                        } else if (utenteLoggato.etichetta.equals(\"test\")) {\r\n\r\n\r\n                            positivoB.setVisibility(View.VISIBLE);\r\n                            negativoB.setVisibility(View.VISIBLE);\r\n                        } else if (utenteLoggato.etichetta.equals(\"positivo\")) {\r\n\r\n                            inAttesaB.setVisibility(View.VISIBLE);\r\n                        }\r\n\r\n                    }\r\n                });\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    private void controllaAggiornamento() {\r\n\r\n        try {\r\n\r\n            SQLiteDatabase myDb = openOrCreateDatabase(\"DateAggiornamentoRischio\", MODE_PRIVATE, null);\r\n            myDb.execSQL(\"CREATE TABLE IF NOT EXISTS dateAgg(data DATE)\");\r\n\r\n            Cursor c = myDb.rawQuery(\"SELECT * FROM dateAgg WHERE data = date('now')\", null);\r\n\r\n            if(c.getCount()==0){\r\n                myDb.execSQL(\"INSERT INTO dateAgg(data) VALUES(date('now'))\");\r\n                AggiornaRischioThread t = new AggiornaRischioThread();\r\n                t.run();\r\n            }\r\n            c.close();\r\n\r\n        }catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n\r\n        switch (item.getItemId()){\r\n            case R.id.nav_home:\r\n                break;\r\n\r\n            case R.id.nav_gruppi:\r\n                this.homegruppi();\r\n                break;\r\n\r\n            case R.id.nav_eventi:\r\n                this.homeeventi();\r\n                break;\r\n\r\n            case R.id.nav_contatto:\r\n                this.registraContatto();\r\n                break;\r\n\r\n            case R.id.nav_profilo:\r\n                this.modificaUtente();\r\n                break;\r\n\r\n            case R.id.nav_impostazioni:\r\n                this.apriImpostazioni();\r\n                break;\r\n\r\n            case R.id.nav_logout:\r\n                this.logout();\r\n                break;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        //Pulsante back disabilitato\r\n    }\r\n\r\n\r\n\r\n    public void registraContatto(View view) {\r\n        Intent i = new Intent(getApplicationContext(), BtActivity.class);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n    }\r\n\r\n\r\n\r\n    public void homeEventi(View view) {\r\n        Intent i = new Intent(getApplicationContext(), HomeEventiActivity.class);\r\n        i.putExtra(\"nome\",utenteLoggato.nome+\" \"+utenteLoggato.cognome);\r\n        i.putExtra(\"email\",utenteLoggato.email);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_down_in, R.anim.slide_down_out);\r\n    }\r\n\r\n\r\n    public void homeGruppi(View view) {\r\n        Intent i = new Intent(getApplicationContext(), HomeGruppiActivity.class);\r\n        i.putExtra(\"nome\",utenteLoggato.nome+\" \"+utenteLoggato.cognome);\r\n        i.putExtra(\"email\",utenteLoggato.email);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_down_in, R.anim.slide_down_out);\r\n    }\r\n\r\n\r\n    public void aggRischio(View view) {\r\n        AggiornaRischioThread t = new AggiornaRischioThread();\r\n        t.run();\r\n\r\n    }\r\n\r\n\r\n\r\n    public void createNewContactDialog(final int i) {\r\n\r\n\r\n        dialogBuilder = new AlertDialog.Builder(this);\r\n        final View contactPopupView = getLayoutInflater().inflate(R.layout.popupmain, null);\r\n        richiestaPopup = contactPopupView.findViewById(R.id.richiestaPopup);\r\n\r\n        if (i == 1) {\r\n            String temp = getString(R.string.confermi_di_essere_in_attesa_del_test);\r\n            richiestaPopup.setText(temp);\r\n        } else if (i == 2) {\r\n            String temp = getString(R.string.confermipos);\r\n            richiestaPopup.setText(temp);\r\n        } else if (i == 3) {\r\n            String temp = getString(R.string.confermineg);\r\n            richiestaPopup.setText(temp);\r\n\r\n        }\r\n\r\n        siPopup = contactPopupView.findViewById(R.id.siPopup);\r\n        noPopup = contactPopupView.findViewById(R.id.noPopup);\r\n\r\n        dialogBuilder.setView(contactPopupView);\r\n        dialog = dialogBuilder.create();\r\n        dialog.show();\r\n\r\n        siPopup.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (i == 1) {\r\n\r\n                    //Se sei positivo cambia la tua etichetta da \"test\" in \"positivo\"\r\n                    db.collection(\"Utenti\").document(id).update(\"etichetta\", \"positivo\").addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task<Void> task) {\r\n                            recreate();\r\n                            if (task.isSuccessful()) {\r\n                                //Se sei positivo cambia il tuo \"rischio\" di contagio a \"100\" %\r\n                                db.collection(\"Utenti\").document(id).update(\"rischio\", RISCHIO_POSITIVO).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task<Void> task) {\r\n                                        recreate();\r\n                                        if (task.isSuccessful()) {\r\n                                            Toast.makeText(getApplicationContext(), getResources().getString(R.string.risPos), Toast.LENGTH_LONG).show();\r\n                                            recreate();\r\n                                        } else {\r\n                                            Toast.makeText(getApplicationContext(), getResources().getString(R.string.err), Toast.LENGTH_LONG).show();\r\n                                        }\r\n\r\n                                    }\r\n                                });\r\n                            } else {\r\n                                Toast.makeText(getApplicationContext(), getResources().getString(R.string.err), Toast.LENGTH_LONG).show();\r\n                            }\r\n\r\n                        }\r\n                    });\r\n                } else if (i == 2) {\r\n\r\n                    //Se sei in attesa di un test l'etichetta cambierà in \"test\"\r\n                    db.collection(\"Utenti\").document(id).update(\"etichetta\", \"test\").addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task<Void> task) {\r\n                            recreate();\r\n                            if (task.isSuccessful()) {\r\n                                //Se sei in attesa di un test cambia il tuo \"rischio\" di contagio a \"50\" %\r\n                                db.collection(\"Utenti\").document(id).update(\"rischio\", RISCHIO_TEST).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task<Void> task) {\r\n                                        recreate();\r\n                                        if (task.isSuccessful()) {\r\n                                            Toast.makeText(getApplicationContext(), getResources().getString(R.string.risWait), Toast.LENGTH_LONG).show();\r\n                                            recreate();\r\n                                        } else {\r\n                                            Toast.makeText(getApplicationContext(), getResources().getString(R.string.err), Toast.LENGTH_LONG).show();\r\n                                        }\r\n\r\n                                    }\r\n                                });\r\n                            } else {\r\n                                Toast.makeText(getApplicationContext(), getResources().getString(R.string.err), Toast.LENGTH_LONG).show();\r\n                            }\r\n\r\n                        }\r\n                    });\r\n\r\n                } else if (i == 3) {\r\n\r\n                    //Se sei negativo cambia la tua etichetta da \"test\" in \"negativo\"\r\n                    db.collection(\"Utenti\").document(id).update(\"etichetta\", \"super\").addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task<Void> task) {\r\n                            recreate();\r\n                            if (task.isSuccessful()) {\r\n                                //Se sei negativo cambia il tuo \"rischio\" di contagio a \"0\" %\r\n                                db.collection(\"Utenti\").document(id).update(\"rischio\", RISCHIO_NEGATIVO).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task<Void> task) {\r\n                                        recreate();\r\n                                        if (task.isSuccessful()) {\r\n                                            Toast.makeText(getApplicationContext(), getResources().getString(R.string.risNeg), Toast.LENGTH_LONG).show();\r\n                                            recreate();\r\n                                        } else {\r\n                                            Toast.makeText(getApplicationContext(), getResources().getString(R.string.err), Toast.LENGTH_LONG).show();\r\n                                        }\r\n\r\n                                    }\r\n                                });\r\n                            } else {\r\n                                Toast.makeText(getApplicationContext(), getResources().getString(R.string.err), Toast.LENGTH_LONG).show();\r\n                            }\r\n\r\n                        }\r\n                    });\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        noPopup.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    public void popupPositivo(View view) {\r\n\r\n        this.createNewContactDialog(1);\r\n    }\r\n\r\n    public void popupInAttesa(View view) {\r\n\r\n        this.createNewContactDialog(2);\r\n    }\r\n\r\n    public void popupNegativo(View view) {\r\n\r\n        this.createNewContactDialog(3);\r\n    }\r\n\r\n    public class AggiornaRischioThread implements Runnable {\r\n\r\n        public long rischio =0;\r\n        public int n=0;\r\n\r\n        @Override\r\n        public void run() {\r\n\r\n\r\n            db.collection(\"Utenti\")\r\n                    .get()\r\n                    .addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task<QuerySnapshot> task) {\r\n\r\n                            if (task.isSuccessful()) {\r\n\r\n                                try{\r\n                                    SQLiteDatabase myDb = openOrCreateDatabase(\"Contatti\", MODE_PRIVATE, null);\r\n                                    myDb.execSQL(\"CREATE TABLE IF NOT EXISTS contattiRegistrati(uid TEXT,data DATE)\");\r\n\r\n                                    Cursor c = myDb.rawQuery(\"SELECT * FROM contattiRegistrati WHERE data >= date('now','-10 day')\", null);\r\n\r\n                                    int uidIndex = c.getColumnIndex(\"uid\");\r\n\r\n                                    c.moveToFirst();\r\n                                    String[] codici = new String [c.getCount()];\r\n\r\n                                    do {\r\n                                        codici[n] = c.getString(uidIndex);\r\n                                        System.out.println(\"-\"+c.getString(uidIndex));\r\n                                        n++;\r\n                                    } while (c.moveToNext());\r\n                                    int j;\r\n                                    for (QueryDocumentSnapshot document : task.getResult()) {\r\n\r\n                                        j=0;\r\n                                        do{\r\n                                            String temp= document.getId();\r\n\r\n                                            if(temp.equals(codici[j])){\r\n\r\n                                                rischio =rischio + (long)document.get(\"rischio\");\r\n\r\n                                            }\r\n                                            j++;\r\n                                        }while(j<n);\r\n\r\n                                    }\r\n                                    rischio = rischio/n;\r\n                                    toastSuccess(getApplicationContext());\r\n                                }catch (Exception e){\r\n                                    toast(getApplicationContext());\r\n                                }\r\n\r\n\r\n                            } else {\r\n                                toast(getApplicationContext());\r\n                            }\r\n                        }\r\n                    });\r\n\r\n\r\n\r\n            if(rischio>utenteLoggato.rischio){\r\n\r\n                utenteLoggato.rischio = rischio;\r\n                db.collection(\"Utenti\").document(id).update(\"rischio\", rischio).addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task<Void> task) {\r\n                        String temp =\"Rischio : \"+ rischio;\r\n                        LabelRischio.setText(temp);\r\n\r\n                    }\r\n                });\r\n            }\r\n\r\n\r\n        }\r\n\r\n\r\n        public void toast(final Context context) {\r\n            Handler handler = new Handler(Looper.getMainLooper());\r\n            handler.post(new Runnable() {\r\n                public void run() {\r\n                    Toast.makeText(context, getResources().getString(R.string.noContact), Toast.LENGTH_LONG).show();\r\n                }\r\n            });\r\n        }\r\n\r\n        public void toastSuccess(final Context context) {\r\n            Handler handler = new Handler(Looper.getMainLooper());\r\n            handler.post(new Runnable() {\r\n                public void run() {\r\n                    Toast.makeText(context, getResources().getString(R.string.riskAgg), Toast.LENGTH_LONG).show();\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    //FUNZIONI MENU\r\n\r\n\r\n    public void registraContatto() {\r\n\r\n        Intent i = new Intent(getApplicationContext(), BtActivity.class);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n    }\r\n\r\n    public void modificaUtente() {\r\n        Intent i = new Intent(getApplicationContext(), ModificaUtenteActivity.class);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n\r\n    }\r\n\r\n    private void homegruppi() {\r\n        Intent i = new Intent(getApplicationContext(), HomeGruppiActivity.class);\r\n        i.putExtra(\"nome\",utenteLoggato.nome+\" \"+utenteLoggato.cognome);\r\n        i.putExtra(\"email\",utenteLoggato.email);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_down_in, R.anim.slide_down_out);\r\n    }\r\n\r\n    private void homeeventi() {\r\n        Intent i = new Intent(getApplicationContext(), HomeEventiActivity.class);\r\n        i.putExtra(\"nome\",utenteLoggato.nome+\" \"+utenteLoggato.cognome);\r\n        i.putExtra(\"email\",utenteLoggato.email);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_down_in, R.anim.slide_down_out);\r\n    }\r\n\r\n    private void apriImpostazioni() {\r\n        Intent i = new Intent(getApplicationContext(), Impostazioni.class);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n    }\r\n\r\n\r\n\r\n    public void logout() {\r\n        mAuth.signOut();\r\n        if (null == FirebaseAuth.getInstance().getCurrentUser()) {\r\n            Toast.makeText(getApplicationContext(), getResources().getString(R.string.logoutSucc),\r\n                    Toast.LENGTH_SHORT).show();\r\n            Intent i = new Intent(getApplicationContext(), Splash.class);\r\n            startActivity(i);\r\n        } else {\r\n            Toast.makeText(getApplicationContext(), getResources().getString(R.string.logoutFail),\r\n                    Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onConfigurationChanged(@NotNull Configuration newConfig) {\r\n        super.onConfigurationChanged(newConfig);\r\n\r\n        if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {\r\n\r\n        } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT){\r\n\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/it/gadg/contagiapp/MainActivity.java	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/java/it/gadg/contagiapp/MainActivity.java	(date 1613058628637)
@@ -1,12 +1,12 @@
 package it.gadg.contagiapp;
 
+import android.app.Activity;
 import android.app.AlertDialog;
 import android.content.Context;
 import android.content.Intent;
 import android.content.res.Configuration;
 import android.database.Cursor;
 import android.database.sqlite.SQLiteDatabase;
-import android.os.Build;
 import android.os.Bundle;
 import android.os.Handler;
 import android.os.Looper;
@@ -83,8 +83,7 @@
 
         super.onCreate(savedInstanceState);
         setContentView(R.layout.activity_main);
-
-
+        mAuth = FirebaseAuth.getInstance();
 
         getWindow().setNavigationBarColor(ContextCompat.getColor(this, R.color.colorPrimaryDark));
 
@@ -120,54 +119,36 @@
         LabelRischio = findViewById(R.id.LabelRischio);
         imgTest = findViewById(R.id.imgTest);
 
-        //Estraggo l'utente
-        mAuth = FirebaseAuth.getInstance();
-        FirebaseUser u = mAuth.getCurrentUser();
-        id = u.getUid();
-        db = FirebaseFirestore.getInstance();
-        db.collection("Utenti")
-                .document(id)
-                .get()
-                .addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {
-
-                    @Override
-                    public void onComplete(@NonNull Task<DocumentSnapshot> task) {
-                        DocumentSnapshot document = task.getResult();
-                        utenteLoggato = new User(document.get("nome").toString(),document.get("cognome").toString(),document.get("email").toString());
-                        utenteLoggato.etichetta = (String) document.get("etichetta");
-                        utenteLoggato.rischio = (Long) document.get("rischio");
-                        utenteLoggato.uid = document.getId();
+        Intent i = getIntent();
+        utenteLoggato = (User) i.getSerializableExtra("utenteLoggato");
 
 
-                        nomeMenu.setText(utenteLoggato.nome + " " +utenteLoggato.cognome);
-                        emailMenu.setText(utenteLoggato.email);
+        nomeMenu.setText(utenteLoggato.nome + " " +utenteLoggato.cognome);
+        emailMenu.setText(utenteLoggato.email);
 
-                        controllaAggiornamento();
-                        String temp =LabelRischio.getText().toString()+ utenteLoggato.rischio + "%";
+        controllaAggiornamento();
+        String temp =LabelRischio.getText().toString()+ utenteLoggato.rischio + "%";
 
-                        if(utenteLoggato.rischio>RISCHIO_ROSSO){
-                            LabelRischio.setTextColor(ContextCompat.getColor(getApplicationContext(),R.color.colorLigthRed));
-                        }else if ((utenteLoggato.rischio>RISCHIO_GIALLO)){
-                            LabelRischio.setTextColor(ContextCompat.getColor(getApplicationContext(),R.color.colorYellow));
-                        }
+        if(utenteLoggato.rischio>RISCHIO_ROSSO){
+            LabelRischio.setTextColor(ContextCompat.getColor(getApplicationContext(),R.color.colorLigthRed));
+        }else if ((utenteLoggato.rischio>RISCHIO_GIALLO)){
+            LabelRischio.setTextColor(ContextCompat.getColor(getApplicationContext(),R.color.colorYellow));
+        }
 
-                        LabelRischio.setText(temp);
+        LabelRischio.setText(temp);
 
-                        if (utenteLoggato.etichetta.equals("super") || utenteLoggato.etichetta.equals("sicuro") || utenteLoggato.etichetta.equals("incerto")) {
-                            inAttesaB.setVisibility(View.VISIBLE);
-                        } else if (utenteLoggato.etichetta.equals("test")) {
+        if (utenteLoggato.etichetta.equals("super") || utenteLoggato.etichetta.equals("sicuro") || utenteLoggato.etichetta.equals("incerto")) {
+            inAttesaB.setVisibility(View.VISIBLE);
+        } else if (utenteLoggato.etichetta.equals("test")) {
 
 
-                            positivoB.setVisibility(View.VISIBLE);
-                            negativoB.setVisibility(View.VISIBLE);
-                        } else if (utenteLoggato.etichetta.equals("positivo")) {
+            positivoB.setVisibility(View.VISIBLE);
+            negativoB.setVisibility(View.VISIBLE);
+        } else if (utenteLoggato.etichetta.equals("positivo")) {
 
-                            inAttesaB.setVisibility(View.VISIBLE);
-                        }
+            inAttesaB.setVisibility(View.VISIBLE);
+        }
 
-                    }
-                });
-
 
 
 
@@ -250,8 +231,7 @@
 
     public void homeEventi(View view) {
         Intent i = new Intent(getApplicationContext(), HomeEventiActivity.class);
-        i.putExtra("nome",utenteLoggato.nome+" "+utenteLoggato.cognome);
-        i.putExtra("email",utenteLoggato.email);
+        i.putExtra("utenteLoggato",utenteLoggato);
         startActivity(i);
         overridePendingTransition(R.anim.slide_down_in, R.anim.slide_down_out);
     }
@@ -259,8 +239,7 @@
 
     public void homeGruppi(View view) {
         Intent i = new Intent(getApplicationContext(), HomeGruppiActivity.class);
-        i.putExtra("nome",utenteLoggato.nome+" "+utenteLoggato.cognome);
-        i.putExtra("email",utenteLoggato.email);
+        i.putExtra("utenteLoggato",utenteLoggato);
         startActivity(i);
         overridePendingTransition(R.anim.slide_down_in, R.anim.slide_down_out);
     }
@@ -282,10 +261,11 @@
         richiestaPopup = contactPopupView.findViewById(R.id.richiestaPopup);
 
         if (i == 1) {
-            String temp = getString(R.string.confermi_di_essere_in_attesa_del_test);
+            String temp = getString(R.string.confermipos);
+
             richiestaPopup.setText(temp);
         } else if (i == 2) {
-            String temp = getString(R.string.confermipos);
+            String temp = getString(R.string.confermi_di_essere_in_attesa_del_test);
             richiestaPopup.setText(temp);
         } else if (i == 3) {
             String temp = getString(R.string.confermineg);
@@ -546,16 +526,14 @@
 
     private void homegruppi() {
         Intent i = new Intent(getApplicationContext(), HomeGruppiActivity.class);
-        i.putExtra("nome",utenteLoggato.nome+" "+utenteLoggato.cognome);
-        i.putExtra("email",utenteLoggato.email);
+        i.putExtra("utenteLoggato",utenteLoggato);
         startActivity(i);
         overridePendingTransition(R.anim.slide_down_in, R.anim.slide_down_out);
     }
 
     private void homeeventi() {
         Intent i = new Intent(getApplicationContext(), HomeEventiActivity.class);
-        i.putExtra("nome",utenteLoggato.nome+" "+utenteLoggato.cognome);
-        i.putExtra("email",utenteLoggato.email);
+        i.putExtra("utenteLoggato",utenteLoggato);
         startActivity(i);
         overridePendingTransition(R.anim.slide_down_in, R.anim.slide_down_out);
     }
Index: app/src/main/java/it/gadg/contagiapp/MainActivityAsl.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package it.gadg.contagiapp;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivityAsl extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main_asl);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/it/gadg/contagiapp/MainActivityAsl.java	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/java/it/gadg/contagiapp/MainActivityAsl.java	(date 1613056932093)
@@ -1,14 +1,116 @@
 package it.gadg.contagiapp;
 
+import androidx.annotation.NonNull;
 import androidx.appcompat.app.AppCompatActivity;
+import androidx.appcompat.widget.Toolbar;
+import androidx.core.content.ContextCompat;
 
 import android.os.Bundle;
+import android.view.View;
+import android.view.Window;
+import android.view.WindowManager;
+import android.widget.TextView;
+import android.widget.Toast;
+
+import com.google.android.gms.tasks.OnCompleteListener;
+import com.google.android.gms.tasks.Task;
+
+import com.google.firebase.firestore.FirebaseFirestore;
+import com.google.firebase.firestore.QueryDocumentSnapshot;
+import com.google.firebase.firestore.QuerySnapshot;
 
 public class MainActivityAsl extends AppCompatActivity {
 
+    TextView emailInput;
+    String email;
+    private int RISCHIO_POSITIVO = 100;
+    Toolbar toolbar;
+
+    FirebaseFirestore db;
+
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.activity_main_asl);
+        getWindow().setNavigationBarColor(ContextCompat.getColor(this, R.color.colorLogoBlue));
+        Window window = this.getWindow();
+
+        // clear FLAG_TRANSLUCENT_STATUS flag:
+        window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);
+
+        // add FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS flag to the window
+        window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);
+
+        // finally change the color
+        window.setStatusBarColor(ContextCompat.getColor(this,R.color.colorLogoBlue));
+        emailInput = findViewById(R.id.emailAsl);
+
+        toolbar=findViewById(R.id.toolbarAsl);
+        setSupportActionBar(toolbar);
+    }
+
+
+    @Override
+    public void onBackPressed() {
+        //Pulsante back disabilitato
+   }
+
+    public void InsPos(View view) {
+        email = emailInput.getText().toString();
+
+        db = FirebaseFirestore.getInstance();
+
+        db.collection("Utenti")
+                .whereEqualTo("email", email)
+                .get()
+                .addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {
+                    @Override
+                    public void onComplete(@NonNull Task<QuerySnapshot> task) {
+                        if(task.getResult().isEmpty()){
+
+                            Toast.makeText(MainActivityAsl.this, getResources().getString(R.string.utenteNonTrovato),
+                                    Toast.LENGTH_SHORT).show();
+                        }
+                        if (task.isSuccessful()) {
+                            for (QueryDocumentSnapshot document : task.getResult()) {
+                                final String id = document.getId();
+
+
+                                //Se sei positivo cambia la tua etichetta da "test" in "positivo"
+                                db.collection("Utenti").document(id).update("etichetta", "positivo").addOnCompleteListener(new OnCompleteListener<Void>() {
+                                    @Override
+                                    public void onComplete(@NonNull Task<Void> task) {
+                                        recreate();
+                                        if (task.isSuccessful()) {
+                                            //Se sei positivo cambia il tuo "rischio" di contagio a "100" %
+                                            db.collection("Utenti").document(id).update("rischio", RISCHIO_POSITIVO).addOnCompleteListener(new OnCompleteListener<Void>() {
+                                                @Override
+                                                public void onComplete(@NonNull Task<Void> task) {
+                                                    recreate();
+                                                    if (task.isSuccessful()) {
+                                                        Toast.makeText(getApplicationContext(), getResources().getString(R.string.risPosAsl), Toast.LENGTH_LONG).show();
+                                                        recreate();
+                                                    } else {
+                                                        Toast.makeText(getApplicationContext(), getResources().getString(R.string.err), Toast.LENGTH_LONG).show();
+                                                    }
+
+                                                }
+                                            });
+                                        } else {
+                                            Toast.makeText(getApplicationContext(), getResources().getString(R.string.err), Toast.LENGTH_LONG).show();
+                                        }
+
+                                    }
+                                });
+
+                            }
+                        } else {
+
+                            Toast.makeText(MainActivityAsl.this, getResources().getString(R.string.errCompOp),
+                                    Toast.LENGTH_LONG).show();
+                        }
+                    }
+                });
+
     }
 }
\ No newline at end of file
Index: app/src/main/res/values-en-rUS/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <string name=\"app_name\">AppContagi</string>\r\n    <string name=\"navigation_drawer_open\">Open navigation drawer</string>\r\n    <string name=\"navigation_drawer_close\">Close navigation drawer</string>\r\n    <string name=\"nav_header_title\">Android Studio</string>\r\n    <string name=\"nav_header_subtitle\">android.studio@android.com</string>\r\n    <string name=\"nav_header_desc\">Navigation header</string>\r\n    <string name=\"action_settings\">Settings</string>\r\n\r\n\r\n    <!-- Strings related to login -->\r\n    <string name=\"prompt_email\">Email</string>\r\n    <string name=\"prompt_password\">Password</string>\r\n    <string name=\"action_sign_in\">Sign in or register</string>\r\n    <string name=\"action_sign_in_short\">Sign in</string>\r\n    <string name=\"welcome\">\"Welcome!\"</string>\r\n    <string name=\"invalid_username\">Invalid email</string>\r\n    <string name=\"invalid_password\">Password must contain at least 5 characters</string>\r\n    <string name=\"login_failed\">\"Login failed\"</string>\r\n    <string name=\"nome\">First name</string>\r\n    <string name=\"cognome\">Last name</string>\r\n    <string name=\"email\">Email</string>\r\n    <string name=\"registrati\">Register</string>\r\n    <string name=\"background\">Background</string>\r\n    <string name=\"immagine_prima_schermata\">First screen image</string>\r\n    <string name=\"contagiapp\">ContagiAPP</string>\r\n    <string name=\"lorem\">Lorem</string>\r\n    <string name=\"ipsum\">ipsum</string>\r\n    <string name=\"faketext\">Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit</string>\r\n    <string name=\"tab\">tab</string>\r\n    <string name=\"login\">Login</string>\r\n    <string name=\"logout\">Logout</string>\r\n    <string name=\"loginSplash\">Login/Register</string>\r\n    <string name=\"registrati_adesso\">Register now</string>\r\n    <string name=\"password\">Password</string>\r\n    <string name=\"title_activity_main\">Dashboard</string>\r\n\r\n    <string name=\"crea_evento\">Create Event</string>\r\n    <string name=\"crea_gruppo\">Create Group</string>\r\n    <string name=\"nome_evento\">Event name</string>\r\n    <string name=\"ora_inizio\">Start time</string>\r\n    <string name=\"data\">Date</string>\r\n    <string name=\"i_tuoi_eventi\">Your events</string>\r\n    <string name=\"i_tuoi_gruppi\">Your groups</string>\r\n\r\n    <string name=\"str_label_btn_send\">Send</string>\r\n    <string name=\"str_menu_search_devices\">Search Devices</string>\r\n    <string name=\"str_menu_bluetooth_on\">Switch on Bluetooth</string>\r\n\r\n    <string name=\"str_paired_devices\">Paired Devices</string>\r\n    <string name=\"str_available_devices\">Available Devices</string>\r\n    <string name=\"str_menu_scan_devices\">Search Devices</string>\r\n    <string name=\"title_activity_prova\">Try</string>\r\n    <string name=\"title_activity_ham\">Ham</string>\r\n    <string name=\"title_activity_impostazioni\">Settings</string>\r\n    <string name=\"lang\">Switch to Italian version</string>\r\n    <string name=\"impostazionisez2\">System</string>\r\n    <string name=\"elimina_il_tuo_profilo\">Delete your account</string>\r\n    <string name=\"passo1\">Step 1 : Establish connection</string>\r\n    <string name=\"passo2\">Step 2 : Send data</string>\r\n    <string name=\"ricezioneDati\">Receiving data</string>\r\n    <string name=\"passo3\">Step 3: Close connection</string>\r\n    <string name=\"clicca_su\">Click on</string>\r\n    <string name=\"per_attivare_il_bluetooth\">to activate Bluetooth</string>\r\n    <string name=\"e_aggiungi_il_dispostivo_del_contatto\">and add the contact\\'s device</string>\r\n    <string name=\"stato_connessione\">Connection Status</string>\r\n    <string name=\"non_connesso\">Not connected</string>\r\n    <string name=\"invia_i_tuoi_dati\">Send your data</string>\r\n    <string name=\"dati_non_ricevuti\">Data not received</string>\r\n    <string name=\"riavviaProcesso\">If you can\\'t receive data, try closing your connection and restarting the process</string>\r\n    <string name=\"chiudiConnessione\">To close the connection shake the phone or click on the button below</string>\r\n    <string name=\"chiudiConn\">Close connection</string>\r\n    <string name=\"data_evento\">Event date</string>\r\n    <string name=\"ora_inizio_evento\">Event starting time</string>\r\n    <string name=\"crea\">Create</string>\r\n    <string name=\"nome_gruppo\">Group name</string>\r\n    <string name=\"eventoCalendario\">Clicca here to add the event to the Calendar</string>\r\n    <string name=\"condividi_evento\">Share Event</string>\r\n    <string name=\"eliminaEvento\">Click here to delete the event</string>\r\n    <string name=\"richieste_in_attesa\">Pending requests</string>\r\n    <string name=\"richiesteRicevute\">Click here to see received requests</string>\r\n    <string name=\"elimina_evento\">Delete Event</string>\r\n    <string name=\"clicca_qui_per_eliminare_l_evento\">Click here to delete the event</string>\r\n    <string name=\"lista_eventi\">Events List</string>\r\n\r\n    <string name=\"lista_partecipanti\">Participants list</string>\r\n    <string name=\"cliccaListaPartecipanti\">Click here to see the participants list</string>\r\n    <string name=\"elimina_gruppo\">Delete Group</string>\r\n    <string name=\"cliccaquiElimina\">Click here to delete the group</string>\r\n    <string name=\"aggiungi_membro\">Add Member</string>\r\n    <string name=\"emailInvito\">Member\\'s email</string>\r\n    <string name=\"invita_utente\">Invite user</string>\r\n\r\n    <string name=\"iscriviti_ad_un_evento\">Join an event</string>\r\n    <string name=\"lista_gruppi\">Groups list</string>\r\n    <string name=\"inviti_ricevuti\">Received invitations</string>\r\n    <string name=\"info\">Info</string>\r\n    <string name=\"passare_alla_versione_inglese\">Switch to the english version</string>\r\n\r\n    <string name=\"codice_evento\">Event code</string>\r\n    <string name=\"invia_richiesta\">Send request</string>\r\n    <string name=\"registra_contatto\">Register contact</string>\r\n    <string name=\"sono_positivo\">I am positive</string>\r\n    <string name=\"ho_effettuato_il_test\">I did the test</string>\r\n    <string name=\"sono_negativo\">I am negative</string>\r\n    <string name=\"gruppi\">Groups</string>\r\n    <string name=\"aggiorna_rischio\">Update risk</string>\r\n    <string name=\"livello_rischio_contagio\">Infection risk level</string>\r\n\r\n    <string name=\"aggiungi_al_calendario\">Add to the calender</string>\r\n    <string name=\"clicca_qui_per_condividere_l_evento\">Click here to share the event</string>\r\n    <string name=\"cliccaAbbandona\">Click here to abandon the event</string>\r\n    <string name=\"abbandona_evento\">Abandon event</string>\r\n\r\n    <string name=\"abbandona_gruppo\">Abandon Group</string>\r\n    <string name=\"clicca_qui_per_abbandonare_il_gruppo\">Click here to abandon the group</string>     <string name=\"noEventi\">You haven\\'t joined any event</string>\r\n    <string name=\"noGruppi\">You are not part of any group</string>\r\n    <string name=\"noInviti\">No invite received</string>\r\n    <string name=\"noMembri\">There are no members other than you</string>\r\n\r\n    <string name=\"seiSicuroEvento\">Are you sure you want to abandon the event</string>\r\n    <string name=\"si\">Yes</string>\r\n    <string name=\"no\">No</string>\r\n    <string name=\"sei_sicuro_di_voler_abbandonare_il_gruppo\">Are you sure you want to abandon the group?</string>\r\n    <string name=\"sei_sicuro_di_voler_eliminare_il_tuo_profilo\">Are you sure you want to delete your profile</string>\r\n    <string name=\"sei_sicuro_di_voler_eliminare_l_evento\">Are you sure you want to delete the event?</string>\r\n    <string name=\"sei_sicuro_di_voler_eliminare_il_gruppo\">Are you sure you want to delete the group?</string>\r\n    <string name=\"testoInfo\">ContagiAPP is an app developed as a university project, whose purpose is to improve COVID-19 cases tracking.</string>\r\n    <string name=\"progetto_a_cura_di\">Project curated by:</string>\r\n    <string name=\"confermi_di_essere_in_attesa_del_test\">Do you confirm to be waiting for your test?</string>\r\n    <string name=\"confermipos\">Do you confirm to be positive?</string>\r\n    <string name=\"confermineg\">Do you confirm to be negative?</string>\r\n    <string name=\"nome_gruppo_riga\">Group Name</string>\r\n    <string name=\"ruolo\">Role</string>\r\n    <string name=\"nome_evento_riga\">Event name</string>\r\n    <string name=\"accetta\">Accept</string>\r\n    <string name=\"rifiuta\">Refuse</string>\r\n    <string name=\"espelli_membro\">Kick Member</string>\r\n    <string name=\"rischio\">Risk : </string>\r\n    <string name=\"nome_utente\">Username</string>\r\n    <string name=\"i_tuoi_gruppi_menu\">Your Groups</string>\r\n    <string name=\"i_tuoi_eventi_menu\">Your Events</string>\r\n    <string name=\"impostazioni\">Settings</string>\r\n    <string name=\"modifica_profilo\">Edit profile</string>\r\n    <string name=\"eventi\">Events</string>\r\n    <string name=\"luogoEvento\">Event Location</string>\r\n\r\n    <string name=\"admin\">Admin</string>\r\n    <string name=\"member\">Member</string>\r\n    <string name=\"partecipante\">Participant</string>\r\n    <string name=\"authSucc\">Successful Authentication</string>\r\n    <string name=\"authFail\">Failed Authentication</string>\r\n    <string name=\"nomeErr\">Invalid name, please just enter characters</string>\r\n    <string name=\"cognomeErr\">Invalid surname, please just enter characters</string>\r\n    <string name=\"emailErr\">Invalid Email</string>\r\n    <string name=\"passErr\"><![CDATA[Invalid Password: please enter at least 7 characters, at least one between @#$%^&+= and a Capital letter]]></string>\r\n    <string name=\"dataErr\">Invalid date</string>\r\n    <string name=\"oraErr\">Invalid time</string>\r\n    <string name=\"eventSucc\">Event created correctly</string>\r\n    <string name=\"eventFail\">Error during the creation of the event</string>\r\n    <string name=\"highRisk\">Your risk is too high, you can\\'t create an event</string>\r\n    <string name=\"utenteNonTrovato\">User not found</string>\r\n    <string name=\"delEvento\">Event deleted correctly</string>\r\n    <string name=\"err\">Error, try later</string>\r\n    <string name=\"partecipa\">Join now at</string>\r\n    <string name=\"codiceShare\">Code to send the request :</string>\r\n    <string name=\"reqSendErr\">Request already sent</string>\r\n    <string name=\"reqSucc\">Request successfully sent</string>\r\n    <string name=\"eventNotFound\">Event not found</string>\r\n    <string name=\"eventIdErr\">Invalid Event Id </string>\r\n    <string name=\"highRiskReq\">Your risk is too high, you can\\'t send requests</string>\r\n    <string name=\"reqAcc\">Request successfully accepted</string>\r\n    <string name=\"tooHighRiskReq\">Your risk is too high, wait for it to drop to accept the request</string>\r\n    <string name=\"reqDef\">Request successfully refused</string>\r\n    <string name=\"eventAbb\">Event successfully abandoned</string>\r\n    <string name=\"gruppoCreaSucc\">Group successfully created</string>\r\n    <string name=\"gruppoCreaFail\">Group creation error</string>\r\n    <string name=\"invSucc\">Invitation successfully sent</string>\r\n    <string name=\"errCompOp\">We couldn\\'t complete the operation</string>\r\n    <string name=\"invSendErr\">Group successfully deleted</string>\r\n    <string name=\"gruppoDel\">Invitation already sent</string>\r\n    <string name=\"invRef\">Invitation refused</string>\r\n    <string name=\"invAcc\">You\\'re now part of the group :</string>\r\n    <string name=\"utenteBan\">Member banned</string>\r\n    <string name=\"gruppoAbb\">Group abandoned</string>\r\n    <string name=\"insPass\">Enter password</string>\r\n    <string name=\"editSucc\">Data successfully updated</string>\r\n    <string name=\"errPass\">Wrong password</string>\r\n\r\n    <string name=\"notConnected\">Not connected</string>\r\n    <string name=\"connInCorso\">Connecting…</string>\r\n    <string name=\"connCon\">Connected to :</string>\r\n    <string name=\"ConnSucc\">Connection successful</string>\r\n    <string name=\"DatiRecSucc\">Data successfully received</string>\r\n    <string name=\"DatiRecFail\">Data not received</string>\r\n    <string name=\"contRegSucc\">Contact successfully registered</string>\r\n    <string name=\"contRegErr\">Error, we couldn\\'t save the contact</string>\r\n    <string name=\"btNotFound\">Bluetooth not found</string>\r\n    <string name=\"geoPerm\">Geolocalization permission is necessary for the app operations</string>\r\n    <string name=\"concedi\">Allow</string>\r\n    <string name=\"nega\">Deny</string>\r\n    <string name=\"noDisp\">No new devices found</string>\r\n    <string name=\"StartBt\">Click on the device to start the chat</string>\r\n    <string name=\"ricInCorso\">Searching…</string>\r\n\r\n    <string name=\"ConnFail\">Connection failed</string>\r\n    <string name=\"ConnClose\">Connection closed</string>\r\n    <string name=\"logoutSucc\">Login Successful</string>\r\n    <string name=\"logoutFail\">Login Failed</string>\r\n    <string name=\"delUser\">User successfully deleted</string>\r\n    <string name=\"risPos\">You are positive</string>\r\n    <string name=\"risWait\">Waiting for a test result</string>\r\n    <string name=\"risNeg\">You are negative</string>\r\n    <string name=\"noContact\">No new contact found</string>\r\n    <string name=\"riskAgg\">Risk successfully updated</string>\r\n    <string name=\"membri\">Members</string>\r\n    <string name=\"titoloEventoDash\">Event</string>\r\n    <string name=\"modUtente\">Edit User</string>\r\n    <string name=\"richiesteTitolo\">Requests</string>\r\n    <string name=\"gruppiTitolo\">Group</string>\r\n    <string name=\"inserisci_la_password\">Enter Password</string>\r\n    <string name=\"modifica_dati\">Edit Data</string>\r\n\r\n    <string name=\"inserisci_il_nuovo_cognome\">New Surname</string>\r\n    <string name=\"inserisci_il_nuovo_nome\">New Name</string>\r\n    <string name=\"testoSplash1\">The first app that allows you to join or create events in complete safety</string>\r\n    <string name=\"titoloSplash1\">Join or create</string>\r\n    <string name=\"testoSplash2\">Establish a location, date or name for your Events</string>\r\n    <string name=\"testoSplash3\">Keep track of your friends and family risk level</string>\r\n\r\n    <plurals name=\"Ngruppi\">\r\n        <item quantity=\"one\"> You are part of a group: </item>\r\n        <item quantity=\"other\"> You are part of %d groups: </item>\r\n    </plurals>\r\n\r\n    <plurals name=\"Neventi\">\r\n        <item quantity=\"one\"> You are part of an event: </item>\r\n        <item quantity=\"other\"> You are part of %d events: </item>\r\n    </plurals>\r\n\r\n    <plurals name=\"Ninviti\">\r\n        <item quantity=\"one\"> You have a pending invitation: </item>\r\n        <item quantity=\"other\"> You have %d pending invitations: </item>\r\n    </plurals>\r\n</resources>\r\n\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values-en-rUS/strings.xml	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/res/values-en-rUS/strings.xml	(date 1613059650490)
@@ -228,6 +228,11 @@
     <string name="titoloSplash1">Join or create</string>
     <string name="testoSplash2">Establish a location, date or name for your Events</string>
     <string name="testoSplash3">Keep track of your friends and family risk level</string>
+    <string name="InsPos">Report Positivity</string>
+    <string name="username">Username</string>
+    <string name="segnala">Report</string>
+    <string name="risPosAsl">Positivity reported correctly</string>
+    <string name="macchinaDelTempo">Sorry! Unless you\'ve got a time machine you can\'t create events in the past</string>
 
     <plurals name="Ngruppi">
         <item quantity="one"> You are part of a group: </item>
Index: app/src/main/res/layout/activity_main.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/drawer_layout\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:fitsSystemWindows=\"true\"\r\n    android:background=\"@drawable/bg_home\"\r\n    tools:context=\".MainActivity\"\r\n\r\n    >\r\n\r\n    <com.google.android.material.navigation.NavigationView\r\n        android:id=\"@+id/nav_view\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_gravity=\"start\"\r\n        android:background=\"@color/colorPrimaryDark\"\r\n        app:itemTextColor=\"@color/white\"\r\n        app:itemIconTint=\"@color/white\"\r\n        app:headerLayout=\"@layout/header\"\r\n        app:menu=\"@menu/main_menu\">\r\n\r\n    </com.google.android.material.navigation.NavigationView>\r\n\r\n\r\n\r\n    <ScrollView\r\n        android:layout_width=\"412dp\"\r\n        android:layout_height=\"677dp\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n\r\n            <androidx.appcompat.widget.Toolbar\r\n                android:id=\"@+id/toolbar\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:background=\"@android:color/transparent\"\r\n                android:minHeight=\"?attr/actionBarSize\"\r\n                android:theme=\"?attr/actionBarTheme\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:layout_constraintVertical_bias=\"0.0\" />\r\n\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:layout_width=\"130dp\"\r\n                android:layout_height=\"135dp\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:layout_marginEnd=\"40dp\"\r\n                android:layout_marginBottom=\"20dp\"\r\n                android:onClick=\"registraContatto\"\r\n                app:cardCornerRadius=\"9dp\"\r\n                app:cardElevation=\"9dp\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/cardView\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/textView5\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"80dp\"\r\n                    android:fontFamily=\"@font/baloo\"\r\n                    android:text=\"@string/registra_contatto\"\r\n                    android:textAlignment=\"center\"\r\n                    android:textColor=\"@color/quantum_grey700\"\r\n                    android:textSize=\"18sp\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/img\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"59dp\"\r\n                    android:layout_marginTop=\"15dp\"\r\n                    app:srcCompat=\"@drawable/contacttracing\" />\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:id=\"@+id/cardView\"\r\n                android:layout_width=\"130dp\"\r\n                android:layout_height=\"135dp\"\r\n                android:layout_marginTop=\"40dp\"\r\n                android:layout_marginEnd=\"40dp\"\r\n                android:onClick=\"homeEventi\"\r\n                app:cardCornerRadius=\"9dp\"\r\n                app:cardElevation=\"9dp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/siPopup\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/textView3\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"80dp\"\r\n                    android:fontFamily=\"@font/baloo\"\r\n                    android:text=\"@string/eventi\"\r\n                    android:textAlignment=\"center\"\r\n                    android:textColor=\"@color/quantum_grey700\"\r\n                    android:textSize=\"20sp\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/imageView4\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"59dp\"\r\n                    android:layout_marginTop=\"15dp\"\r\n                    app:srcCompat=\"@drawable/iconaevento\" />\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:id=\"@+id/cardView2\"\r\n                android:layout_width=\"345dp\"\r\n                android:layout_height=\"193dp\"\r\n                android:layout_marginStart=\"40dp\"\r\n                android:layout_marginTop=\"70dp\"\r\n                android:layout_marginEnd=\"40dp\"\r\n                app:cardCornerRadius=\"7dp\"\r\n                app:cardElevation=\"8dp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n                <androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\">\r\n\r\n                    <androidx.cardview.widget.CardView\r\n                        android:id=\"@+id/positivoB\"\r\n                        android:layout_width=\"173dp\"\r\n                        android:layout_height=\"50dp\"\r\n                        android:layout_alignParentStart=\"true\"\r\n                        android:layout_alignParentLeft=\"true\"\r\n                        android:layout_alignParentEnd=\"true\"\r\n                        android:layout_alignParentRight=\"true\"\r\n                        android:layout_alignParentBottom=\"true\"\r\n\r\n                        android:layout_marginEnd=\"20dp\"\r\n                        android:layout_marginBottom=\"30dp\"\r\n                        android:onClick=\"popupPositivo\"\r\n                        android:visibility=\"invisible\"\r\n                        app:cardBackgroundColor=\"@color/design_default_color_error\"\r\n                        app:cardCornerRadius=\"25dp\"\r\n                        app:cardElevation=\"10dp\"\r\n                        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                        app:layout_constraintEnd_toEndOf=\"parent\">\r\n\r\n                        <RelativeLayout\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\">\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/inAttesaText\"\r\n                                android:layout_width=\"wrap_content\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_centerInParent=\"true\"\r\n                                android:text=\"@string/sono_positivo\"\r\n                                android:textColor=\"#fff\"\r\n                                android:textSize=\"18sp\" />\r\n                        </RelativeLayout>\r\n                    </androidx.cardview.widget.CardView>\r\n\r\n                    <androidx.cardview.widget.CardView\r\n                        android:id=\"@+id/inAttesaB\"\r\n                        android:layout_width=\"173dp\"\r\n                        android:layout_height=\"50dp\"\r\n                        android:layout_alignParentStart=\"true\"\r\n                        android:layout_alignParentLeft=\"true\"\r\n                        android:layout_alignParentEnd=\"true\"\r\n                        android:layout_alignParentRight=\"true\"\r\n                        android:layout_alignParentBottom=\"true\"\r\n                        android:layout_marginTop=\"70dp\"\r\n                        android:layout_marginEnd=\"20dp\"\r\n                        android:onClick=\"popupInAttesa\"\r\n                        android:visibility=\"invisible\"\r\n                        app:cardBackgroundColor=\"@color/white\"\r\n                        app:cardCornerRadius=\"25dp\"\r\n                        app:cardElevation=\"10dp\"\r\n                        app:layout_constraintEnd_toEndOf=\"parent\"\r\n                        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n                        <RelativeLayout\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\"\r\n                            android:onClick=\"popupInAttesa\">\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/positvoText\"\r\n                                android:layout_width=\"wrap_content\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_centerInParent=\"true\"\r\n                                android:text=\"@string/ho_effettuato_il_test\"\r\n                                android:textColor=\"@color/quantum_grey700\"\r\n                                android:textSize=\"18sp\" />\r\n                        </RelativeLayout>\r\n                    </androidx.cardview.widget.CardView>\r\n\r\n                    <androidx.cardview.widget.CardView\r\n                        android:id=\"@+id/invitabutton\"\r\n                        android:layout_width=\"173dp\"\r\n                        android:layout_height=\"50dp\"\r\n                        android:layout_alignParentStart=\"true\"\r\n                        android:layout_alignParentLeft=\"true\"\r\n                        android:layout_alignParentEnd=\"true\"\r\n                        android:layout_alignParentRight=\"true\"\r\n                        android:layout_alignParentBottom=\"true\"\r\n                        android:layout_marginTop=\"30dp\"\r\n                        android:layout_marginEnd=\"20dp\"\r\n                        android:onClick=\"popupNegativo\"\r\n                        android:visibility=\"invisible\"\r\n                        app:cardBackgroundColor=\"@color/colorPrimaryDark\"\r\n                        app:cardCornerRadius=\"25dp\"\r\n                        app:cardElevation=\"10dp\"\r\n                        app:layout_constraintEnd_toEndOf=\"parent\"\r\n                        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n                        <RelativeLayout\r\n                            android:layout_width=\"match_parent\"\r\n                            android:layout_height=\"match_parent\"\r\n                            android:onClick=\"popupInAttesa\">\r\n\r\n                            <TextView\r\n                                android:id=\"@+id/textView2\"\r\n                                android:layout_width=\"wrap_content\"\r\n                                android:layout_height=\"wrap_content\"\r\n                                android:layout_centerInParent=\"true\"\r\n                                android:text=\"@string/sono_negativo\"\r\n                                android:textColor=\"@color/white\"\r\n                                android:textSize=\"18sp\" />\r\n                        </RelativeLayout>\r\n                    </androidx.cardview.widget.CardView>\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/imgTest\"\r\n                        android:layout_width=\"123dp\"\r\n                        android:layout_height=\"195dp\"\r\n                        android:layout_marginStart=\"4dp\"\r\n                        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                        app:layout_constraintStart_toStartOf=\"parent\"\r\n                        app:layout_constraintTop_toTopOf=\"parent\"\r\n                        app:layout_constraintVertical_bias=\"0.238\"\r\n                        app:srcCompat=\"@drawable/virus\" />\r\n                </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:id=\"@+id/cardViewListaGruppi\"\r\n                android:layout_width=\"130dp\"\r\n                android:layout_height=\"135dp\"\r\n                android:layout_marginStart=\"40dp\"\r\n                android:layout_marginTop=\"40dp\"\r\n                android:onClick=\"homeGruppi\"\r\n                app:cardCornerRadius=\"9dp\"\r\n                app:cardElevation=\"9dp\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/siPopup\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/imageView3\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"59dp\"\r\n                    android:layout_marginTop=\"15dp\"\r\n                    app:srcCompat=\"@drawable/iconagruppo\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/textView\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"80dp\"\r\n                    android:fontFamily=\"@font/baloo\"\r\n                    android:text=\"@string/gruppi\"\r\n                    android:textAlignment=\"center\"\r\n                    android:textColor=\"@color/quantum_grey700\"\r\n                    android:textSize=\"20sp\" />\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:layout_width=\"130dp\"\r\n                android:layout_height=\"135dp\"\r\n                android:layout_marginStart=\"40dp\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:onClick=\"aggRischio\"\r\n                app:cardCornerRadius=\"9dp\"\r\n                app:cardElevation=\"9dp\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/cardViewListaGruppi\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/textView6\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"80dp\"\r\n                    android:fontFamily=\"@font/baloo\"\r\n                    android:text=\"@string/aggiorna_rischio\"\r\n                    android:textAlignment=\"center\"\r\n                    android:textColor=\"@color/quantum_grey700\"\r\n                    android:textSize=\"18sp\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/imgView3\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"59dp\"\r\n                    android:layout_marginTop=\"15dp\"\r\n                    app:srcCompat=\"@drawable/refresh\" />\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:id=\"@+id/siPopup\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"100dp\"\r\n                android:layout_marginStart=\"40dp\"\r\n                android:layout_marginTop=\"40dp\"\r\n                android:layout_marginEnd=\"40dp\"\r\n                app:cardCornerRadius=\"8dp\"\r\n                app:cardElevation=\"9dp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHorizontal_bias=\"1.0\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toBottomOf=\"@+id/cardView2\">\r\n\r\n                <androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\">\r\n\r\n                    <ImageView\r\n                        android:id=\"@+id/imageView5\"\r\n                        android:layout_width=\"101dp\"\r\n                        android:layout_height=\"71dp\"\r\n                        android:layout_marginTop=\"10dp\"\r\n                        android:layout_marginEnd=\"10dp\"\r\n                        app:layout_constraintEnd_toEndOf=\"parent\"\r\n                        app:layout_constraintTop_toTopOf=\"parent\"\r\n                        app:srcCompat=\"@drawable/warning\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/textView10\"\r\n                        android:layout_width=\"181dp\"\r\n                        android:layout_height=\"25dp\"\r\n                        android:layout_marginStart=\"15dp\"\r\n                        android:layout_marginTop=\"20dp\"\r\n                        android:fontFamily=\"@font/baloo\"\r\n                        android:text=\"@string/livello_rischio_contagio\"\r\n                        android:textAlignment=\"center\"\r\n                        android:textSize=\"16sp\"\r\n                        app:layout_constraintStart_toStartOf=\"parent\"\r\n                        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/LabelRischio\"\r\n                        android:layout_width=\"178dp\"\r\n                        android:layout_height=\"25dp\"\r\n                        android:layout_marginStart=\"16dp\"\r\n                        android:layout_marginTop=\"10dp\"\r\n                        android:fontFamily=\"@font/baloo\"\r\n                        android:textAlignment=\"center\"\r\n                        android:textSize=\"20sp\"\r\n                        app:layout_constraintStart_toStartOf=\"parent\"\r\n                        app:layout_constraintTop_toBottomOf=\"@+id/textView10\" />\r\n\r\n                </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n            </androidx.cardview.widget.CardView>\r\n\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n    </ScrollView>\r\n\r\n\r\n</androidx.drawerlayout.widget.DrawerLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_main.xml	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/res/layout/activity_main.xml	(date 1612980248374)
@@ -219,7 +219,7 @@
                         <RelativeLayout
                             android:layout_width="match_parent"
                             android:layout_height="match_parent"
-                            android:onClick="popupInAttesa">
+                            android:onClick="popupNegativo">
 
                             <TextView
                                 android:id="@+id/textView2"
Index: app/src/main/res/layout/activity_home_gruppi_landscape.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/drawer_layout\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:fitsSystemWindows=\"true\"\r\n    tools:context=\".HomeGruppiActivity\"\r\n    >\r\n\r\n    <com.google.android.material.navigation.NavigationView\r\n        android:id=\"@+id/nav_view\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_gravity=\"start\"\r\n        android:background=\"@color/colorPrimaryDark\"\r\n        app:itemTextColor=\"@color/white\"\r\n        app:itemIconTint=\"@color/white\"\r\n        app:headerLayout=\"@layout/header\"\r\n        app:menu=\"@menu/main_menu\">\r\n\r\n    </com.google.android.material.navigation.NavigationView>\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:background=\"@drawable/bg_home2\">\r\n\r\n        <androidx.appcompat.widget.Toolbar\r\n            android:id=\"@+id/toolbar\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@android:color/transparent\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintVertical_bias=\"0.0\"\r\n            app:theme=\"@style/ThemeOverlay.AppCompat.Light\" />\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/cardViewListaGruppi\"\r\n            android:layout_width=\"130dp\"\r\n            android:layout_height=\"135dp\"\r\n            android:layout_marginStart=\"50dp\"\r\n            android:layout_marginTop=\"72dp\"\r\n            android:layout_marginEnd=\"50dp\"\r\n            android:onClick=\"ListaGruppi\"\r\n            app:cardCornerRadius=\"9dp\"\r\n            app:cardElevation=\"9dp\"\r\n            app:layout_constraintEnd_toStartOf=\"@+id/cardViewInvitiGruppi\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/cardViewCreaGruppo\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/toolbar\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imageView3\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"59dp\"\r\n                android:layout_marginTop=\"15dp\"\r\n                app:srcCompat=\"@drawable/checklist\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textView\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"80dp\"\r\n                android:fontFamily=\"@font/baloo\"\r\n                android:text=\"@string/lista_gruppi\"\r\n                android:textAlignment=\"center\"\r\n                android:textColor=\"@color/quantum_grey700\"\r\n                android:textSize=\"20sp\" />\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/cardViewCreaGruppo\"\r\n            android:layout_width=\"130dp\"\r\n            android:layout_height=\"135dp\"\r\n            android:layout_marginStart=\"100dp\"\r\n            android:layout_marginTop=\"72dp\"\r\n            android:onClick=\"creaGruppo\"\r\n            app:cardCornerRadius=\"9dp\"\r\n            app:cardElevation=\"9dp\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/toolbar\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imageViewCreaGruppo\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"59dp\"\r\n                android:layout_marginTop=\"15dp\"\r\n                app:srcCompat=\"@drawable/create\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textCreaGruppo\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"80dp\"\r\n                android:fontFamily=\"@font/baloo\"\r\n                android:text=\"@string/crea_gruppo\"\r\n                android:textAlignment=\"center\"\r\n                android:textColor=\"@color/quantum_grey700\"\r\n                android:textSize=\"20sp\" />\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/cardViewInvitiGruppi\"\r\n            android:layout_width=\"130dp\"\r\n            android:layout_height=\"135dp\"\r\n            android:layout_marginTop=\"72dp\"\r\n            android:layout_marginEnd=\"100dp\"\r\n            android:onClick=\"ListaInviti\"\r\n            app:cardCornerRadius=\"9dp\"\r\n            app:cardElevation=\"9dp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/toolbar\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imageViewInviti\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"59dp\"\r\n                android:layout_marginTop=\"15dp\"\r\n                app:srcCompat=\"@drawable/invitation\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textViewInviti\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"80dp\"\r\n                android:fontFamily=\"@font/baloo\"\r\n                android:text=\"@string/inviti_ricevuti\"\r\n                android:textAlignment=\"center\"\r\n                android:textColor=\"@color/quantum_grey700\"\r\n                android:textSize=\"19sp\" />\r\n        </androidx.cardview.widget.CardView>\r\n\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n\r\n</androidx.drawerlayout.widget.DrawerLayout>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_home_gruppi_landscape.xml	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/res/layout/activity_home_gruppi_landscape.xml	(date 1612979401120)
@@ -28,7 +28,7 @@
         android:background="@drawable/bg_home2">
 
         <androidx.appcompat.widget.Toolbar
-            android:id="@+id/toolbar"
+            android:id="@+id/toolbarAsl"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:background="@android:color/transparent"
@@ -50,7 +50,7 @@
             app:cardElevation="9dp"
             app:layout_constraintEnd_toStartOf="@+id/cardViewInvitiGruppi"
             app:layout_constraintStart_toEndOf="@+id/cardViewCreaGruppo"
-            app:layout_constraintTop_toBottomOf="@+id/toolbar">
+            app:layout_constraintTop_toBottomOf="@+id/toolbarAsl">
 
             <ImageView
                 android:id="@+id/imageView3"
@@ -81,7 +81,7 @@
             app:cardCornerRadius="9dp"
             app:cardElevation="9dp"
             app:layout_constraintStart_toStartOf="parent"
-            app:layout_constraintTop_toBottomOf="@+id/toolbar">
+            app:layout_constraintTop_toBottomOf="@+id/toolbarAsl">
 
             <ImageView
                 android:id="@+id/imageViewCreaGruppo"
@@ -112,7 +112,7 @@
             app:cardCornerRadius="9dp"
             app:cardElevation="9dp"
             app:layout_constraintEnd_toEndOf="parent"
-            app:layout_constraintTop_toBottomOf="@+id/toolbar">
+            app:layout_constraintTop_toBottomOf="@+id/toolbarAsl">
 
             <ImageView
                 android:id="@+id/imageViewInviti"
Index: app/src/main/java/it/gadg/contagiapp/gruppo/MembriGruppo.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package it.gadg.contagiapp.gruppo;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.ListView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\nimport it.gadg.contagiapp.MainActivity;\r\nimport it.gadg.contagiapp.R;\r\nimport it.gadg.contagiapp.modelli.MembroGruppo;\r\n\r\npublic class MembriGruppo extends AppCompatActivity {\r\n    FirebaseFirestore db;\r\n\r\n\r\n    FirebaseUser user;\r\n    private FirebaseAuth mAuth; //dichiaro variabile per l'auenticazione firebase\r\n    String idGruppo;\r\n    String[] idUtenti;\r\n    String[] cognomi;\r\n    String[] rischi;\r\n    String[] nomi;\r\n    int flag;\r\n    int permessi;\r\n    ArrayList<MembroGruppo> m = new ArrayList<>();\r\n\r\n    ListView listView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_membri_gruppo);\r\n\r\n        getWindow().setNavigationBarColor(ContextCompat.getColor(this, R.color.colorPrimaryDark));\r\n\r\n\r\n        // the action bar\r\n        ActionBar actionBar = getSupportActionBar();\r\n        // mostra il pulsante per tornare indietro\r\n        actionBar.setDisplayHomeAsUpEnabled(true);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        user = mAuth.getCurrentUser();\r\n        db = FirebaseFirestore.getInstance();\r\n        Intent intent = getIntent();\r\n        idGruppo = intent.getStringExtra(\"idGruppo\");\r\n        permessi =intent.getIntExtra(\"ruolo\",0);\r\n\r\n        db.collection(\"GruppoUtenti\").whereEqualTo(\"idGruppo\", idGruppo).get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n            @Override\r\n            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                flag = queryDocumentSnapshots.size();\r\n                if(flag>1){\r\n                    for (QueryDocumentSnapshot document : queryDocumentSnapshots) {\r\n\r\n                        String id = document.getString(\"UID\");\r\n                        if (!id.equals(mAuth.getUid())) {\r\n\r\n\r\n                            final MembroGruppo x = new MembroGruppo();\r\n                            x.uid = id;\r\n\r\n                            db.collection(\"Utenti\").document(id).get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task<DocumentSnapshot> task) {\r\n                                    if (task.isSuccessful()) {\r\n                                        DocumentSnapshot document = task.getResult();\r\n                                        if (document != null) {\r\n                                            x.nome = document.getString(\"nome\");\r\n                                            x.cognome = document.getString(\"cognome\");\r\n                                            x.nome = document.getString(\"nome\");\r\n                                            x.rischio = (long) document.get(\"rischio\");\r\n                                            salvaUtente(x);\r\n\r\n                                        }\r\n                                    } else {\r\n                                        Log.d(\"Errore\", \"get failed with \", task.getException());\r\n                                    }\r\n                                }\r\n\r\n                            });\r\n                        }\r\n                    }\r\n                }else{\r\n                    setContentView(R.layout.no_membri);\r\n                }\r\n\r\n\r\n            }\r\n\r\n            private void salvaUtente(MembroGruppo x) {\r\n                m.add(x);\r\n\r\n                System.out.println(\"ciao\");\r\n\r\n                if (m.size() == flag-1) {\r\n                    idUtenti = new String[m.size()];\r\n                    for (int j = 0; j < m.size(); j++) {\r\n                        idUtenti[j] = m.get(j).uid;\r\n                    }\r\n\r\n                    nomi = new String[m.size()];\r\n                    for (int j = 0; j < m.size(); j++) {\r\n                        nomi[j] = m.get(j).nome;\r\n                    }\r\n\r\n                    cognomi = new String[m.size()];\r\n                    for (int j = 0; j < m.size(); j++) {\r\n                        cognomi[j] = m.get(j).cognome;\r\n                    }\r\n\r\n                    rischi = new String[m.size()];\r\n                    for (int j = 0; j < m.size(); j++) {\r\n                        rischi[j] = String.valueOf(m.get(j).rischio);\r\n                    }\r\n\r\n                    listView = findViewById(R.id.listaMembri);\r\n                    MembriGruppo.Adapter adapter = new MembriGruppo.Adapter(getApplicationContext(), nomi, cognomi, rischi, idUtenti);\r\n                    listView.setAdapter(adapter);\r\n\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void finish() {\r\n        super.finish();\r\n        overridePendingTransition(R.anim.slide_in_left, R.anim.slide_out_right);\r\n    }\r\n\r\n\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case android.R.id.home:\r\n                this.finish();\r\n                return true;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n\r\n    class Adapter extends ArrayAdapter<String> {\r\n        Context context;\r\n        String NomiUtenti[];\r\n        String CognomiUtenti[];\r\n        String Rischi[];\r\n        String IdUtenti[];\r\n\r\n        Adapter(Context c, String NomiUtenti[], String CognomiUtenti[], String Rischi[], String IdUtenti[]) {\r\n            super(c, R.layout.rigamembro, R.id.NomeMembro, NomiUtenti);\r\n            this.context = c;\r\n            this.NomiUtenti = NomiUtenti;\r\n            this.CognomiUtenti = CognomiUtenti;\r\n            this.Rischi = Rischi;\r\n            this.IdUtenti = IdUtenti;\r\n\r\n\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public View getView(final int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n            LayoutInflater layoutInflater = (LayoutInflater) getApplicationContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n            View rigamembro = layoutInflater.inflate(R.layout.rigamembro, parent, false);\r\n            TextView nomeMembro = rigamembro.findViewById(R.id.NomeMembro);\r\n            TextView rischioMembro = rigamembro.findViewById(R.id.RischioMembro);\r\n            TextView idMembro = rigamembro.findViewById(R.id.idMembro);\r\n\r\n\r\n            String temp = NomiUtenti[position] + \" \" + CognomiUtenti[position];\r\n            idMembro.setText(IdUtenti[position]);\r\n            nomeMembro.setText(temp);\r\n            temp = \"Rischio : \"+Rischi[position];\r\n            rischioMembro.setText(temp);\r\n            final Button btn = rigamembro.findViewById(R.id.espelliMembro);\r\n            if (permessi==1){\r\n                btn.setVisibility(View.VISIBLE);\r\n                btn.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        espelliMembro(idUtenti[position]);\r\n                    }\r\n\r\n                    private void espelliMembro(String id) {\r\n                        db.collection(\"GruppoUtenti\").whereEqualTo(\"idGruppo\", idGruppo).whereEqualTo(\"UID\", id).get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n\r\n                            @Override\r\n                            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                                for (QueryDocumentSnapshot document : queryDocumentSnapshots) {\r\n                                    db.collection(\"GruppoUtenti\").document(document.getId()).delete().addOnCompleteListener(new OnCompleteListener<Void>() {\r\n                                        @Override\r\n                                        public void onComplete(@NonNull Task<Void> task) {\r\n                                            if (!task.isSuccessful()) {\r\n                                                Toast.makeText(getApplicationContext(), getResources().getString(R.string.err), Toast.LENGTH_LONG).show();\r\n                                            } else {\r\n                                                recreate();\r\n                                                Toast.makeText(getApplicationContext(), getResources().getString(R.string.utenteBan), Toast.LENGTH_LONG).show();\r\n                                            }\r\n                                        }\r\n                                    });\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n\r\n\r\n            return rigamembro;\r\n        }\r\n    }\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/it/gadg/contagiapp/gruppo/MembriGruppo.java	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/java/it/gadg/contagiapp/gruppo/MembriGruppo.java	(date 1612979401022)
@@ -75,7 +75,7 @@
         idGruppo = intent.getStringExtra("idGruppo");
         permessi =intent.getIntExtra("ruolo",0);
 
-        db.collection("GruppoUtenti").whereEqualTo("idGruppo", idGruppo).get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {
+        db.collection("GruppoUtenti").whereEqualTo("status", 1).whereEqualTo("idGruppo", idGruppo).get().addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {
             @Override
             public void onSuccess(QuerySnapshot queryDocumentSnapshots) {
                 flag = queryDocumentSnapshots.size();
Index: app/src/main/res/layout/activity_main_asl.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".MainActivityAsl\">\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_main_asl.xml	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/res/layout/activity_main_asl.xml	(date 1612979401046)
@@ -2,8 +2,131 @@
 <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
     xmlns:tools="http://schemas.android.com/tools"
+    android:id="@+id/relativeLayout2"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
     tools:context=".MainActivityAsl">
 
+
+    <androidx.appcompat.widget.Toolbar
+        android:id="@+id/toolbarAsl"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:background="@color/colorLogoBlue"
+        android:minHeight="?attr/actionBarSize"
+        android:theme="?attr/actionBarTheme"
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toTopOf="parent"
+        app:layout_constraintVertical_bias="0.0" />
+
+    <androidx.cardview.widget.CardView
+        android:id="@+id/cardView4"
+        android:layout_width="357dp"
+        android:layout_height="501dp"
+        android:layout_centerHorizontal="true"
+        android:layout_centerVertical="true"
+        android:layout_marginLeft="40dp"
+        android:layout_marginTop="20dp"
+        android:layout_marginRight="40dp"
+        android:layout_marginBottom="20dp"
+        app:cardCornerRadius="10dp"
+        app:cardElevation="3dp"
+        app:cardPreventCornerOverlap="false"
+        app:cardUseCompatPadding="true"
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintLeft_toLeftOf="parent"
+        app:layout_constraintRight_toRightOf="parent"
+        app:layout_constraintTop_toTopOf="parent">
+
+        <androidx.constraintlayout.widget.ConstraintLayout
+            android:layout_width="match_parent"
+            android:layout_height="match_parent">
+
+            <LinearLayout
+                android:id="@+id/linearLayout"
+                android:layout_width="386dp"
+                android:layout_height="103dp"
+                android:background="@color/colorLogoBlue"
+                android:orientation="vertical"
+                app:layout_constraintEnd_toEndOf="parent"
+                app:layout_constraintStart_toStartOf="parent"
+                app:layout_constraintTop_toTopOf="parent">
+
+                <ImageView
+                    android:id="@+id/imageView6"
+                    android:layout_width="match_parent"
+                    android:layout_height="55dp"
+                    app:srcCompat="@drawable/ic_alert" />
+
+                <TextView
+                    android:id="@+id/textView8"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="5dp"
+                    android:fontFamily="@font/baloo"
+                    android:text="@string/InsPos"
+                    android:textAlignment="center"
+                    android:textColor="@color/white"
+                    android:textSize="18sp" />
+            </LinearLayout>
+
+            <RelativeLayout
+                android:id="@+id/relativeLayout1"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:layout_marginStart="20dp"
+                android:layout_marginEnd="20dp"
+                android:layout_marginBottom="100dp"
+                app:layout_constraintBottom_toBottomOf="parent"
+                app:layout_constraintEnd_toEndOf="parent"
+                app:layout_constraintStart_toStartOf="parent"
+                app:layout_constraintTop_toBottomOf="@+id/linearLayout">
+
+                <ImageView
+                    android:id="@+id/imgView_dataEvento"
+                    android:layout_width="40dp"
+                    android:layout_height="40dp"
+                    android:background="@color/colorLogoBlue"
+                    android:padding="8dp"
+                    android:src="@drawable/ic_create_group"
+                    app:tint="@color/white" />
+
+                <EditText
+                    android:id="@+id/emailAsl"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_alignBottom="@+id/imgView_dataEvento"
+                    android:layout_alignParentTop="true"
+                    android:layout_marginLeft="1dp"
+                    android:layout_marginTop="-1dp"
+                    android:layout_marginBottom="1dp"
+                    android:layout_toRightOf="@+id/imgView_dataEvento"
+                    android:background="@color/editTextBG"
+                    android:hint="@string/email"
+                    android:paddingLeft="20dp"
+                    android:textSize="15sp" />
+
+            </RelativeLayout>
+
+            <Button
+                android:id="@+id/CGruppo"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:layout_marginStart="30dp"
+                android:layout_marginEnd="30dp"
+                android:background="@color/colorLogoBlue"
+                android:fontFamily="sans-serif-medium"
+                android:onClick="InsPos"
+                android:text="@string/segnala"
+                android:textColor="@color/white"
+                app:layout_constraintBottom_toBottomOf="parent"
+                app:layout_constraintEnd_toEndOf="parent"
+                app:layout_constraintStart_toStartOf="parent"
+                app:layout_constraintTop_toBottomOf="@+id/relativeLayout1" />
+
+
+        </androidx.constraintlayout.widget.ConstraintLayout>
+    </androidx.cardview.widget.CardView>
+
 </androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/java/it/gadg/contagiapp/splash/Splash.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package it.gadg.contagiapp.splash;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentStatePagerAdapter;\r\nimport androidx.viewpager.widget.ViewPager;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.view.View;\r\nimport android.view.WindowManager;\r\nimport android.view.animation.Animation;\r\nimport android.view.animation.AnimationUtils;\r\nimport android.widget.ImageView;\r\n\r\nimport com.airbnb.lottie.LottieAnimationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\n\r\nimport it.gadg.contagiapp.autenticazione.Login;\r\nimport it.gadg.contagiapp.MainActivity;\r\nimport it.gadg.contagiapp.R;\r\n\r\npublic class Splash extends AppCompatActivity {\r\n\r\n    ImageView splash;\r\n    LottieAnimationView lottieAnimationView;\r\n    ViewPager viewPager;\r\n    ScreenSlidePageAdapter pagerAdapter;\r\n\r\n    private static final int numeroPagineIntro = 3;\r\n    Animation animation;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.activity_splash);\r\n\r\n        splash = findViewById(R.id.img);\r\n        lottieAnimationView = findViewById(R.id.splash);\r\n        splash.animate().translationY(-3000).setDuration(2500).setStartDelay(3000);\r\n        lottieAnimationView.animate().translationY(1400).setDuration(2500).setStartDelay(3000);\r\n\r\n        if(null ==  FirebaseAuth.getInstance().getCurrentUser()){\r\n            viewPager = findViewById(R.id.pager);\r\n            pagerAdapter = new ScreenSlidePageAdapter(getSupportFragmentManager());\r\n            viewPager.setAdapter(pagerAdapter);\r\n            animation = AnimationUtils.loadAnimation(this,R.anim.anim);\r\n            viewPager.startAnimation(animation);\r\n        }else{\r\n\r\n            new Handler().postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Intent i = new Intent(getApplicationContext(), MainActivity.class);\r\n                    startActivity(i);\r\n                    overridePendingTransition(R.anim.anim,R.anim.no_animation);\r\n                }\r\n            }, 2000);\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public void splashAuth(View view) {\r\n        Intent i = new Intent(getApplicationContext(), Login.class);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right,R.anim.slide_out_left);\r\n    }\r\n\r\n    private static class ScreenSlidePageAdapter extends FragmentStatePagerAdapter{\r\n\r\n         public ScreenSlidePageAdapter(@NonNull FragmentManager fm) {\r\n             super(fm);\r\n         }\r\n\r\n         @NonNull\r\n         @Override\r\n         public Fragment getItem(int position) {\r\n             switch (position){\r\n                 case 0:\r\n                     OnBoardginFragment1 pag1 = new OnBoardginFragment1();\r\n                     return pag1;\r\n                 case 1:\r\n                     OnBoardginFragment2 pag2 = new OnBoardginFragment2();\r\n                     return pag2;\r\n                 case 2:\r\n                     OnBoardginFragment3 pag3 = new OnBoardginFragment3();\r\n                     return pag3;\r\n             }\r\n             return null;\r\n         }\r\n\r\n         @Override\r\n         public int getCount() {\r\n             return numeroPagineIntro;\r\n         }\r\n     }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/it/gadg/contagiapp/splash/Splash.java	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/java/it/gadg/contagiapp/splash/Splash.java	(date 1613058939138)
@@ -17,13 +17,24 @@
 import android.widget.ImageView;
 
 import com.airbnb.lottie.LottieAnimationView;
+import com.google.android.gms.tasks.OnCompleteListener;
+import com.google.android.gms.tasks.Task;
 import com.google.firebase.auth.FirebaseAuth;
+import com.google.firebase.auth.FirebaseUser;
+import com.google.firebase.firestore.DocumentSnapshot;
+import com.google.firebase.firestore.FirebaseFirestore;
 
+import it.gadg.contagiapp.MainActivityAsl;
 import it.gadg.contagiapp.autenticazione.Login;
 import it.gadg.contagiapp.MainActivity;
 import it.gadg.contagiapp.R;
+import it.gadg.contagiapp.modelli.User;
 
 public class Splash extends AppCompatActivity {
+    private FirebaseAuth mAuth; //dichiaro variabile per l'auenticazione firebase
+    String id;
+    FirebaseFirestore db;
+    User utenteLoggato;
 
     ImageView splash;
     LottieAnimationView lottieAnimationView;
@@ -53,18 +64,57 @@
             viewPager.startAnimation(animation);
         }else{
 
-            new Handler().postDelayed(new Runnable() {
-                @Override
-                public void run() {
-                    Intent i = new Intent(getApplicationContext(), MainActivity.class);
-                    startActivity(i);
-                    overridePendingTransition(R.anim.anim,R.anim.no_animation);
-                }
-            }, 2000);
+
+
+            //Estraggo l'utente
+            mAuth = FirebaseAuth.getInstance();
+            FirebaseUser u = mAuth.getCurrentUser();
+            id = u.getUid();
+            db = FirebaseFirestore.getInstance();
+            db.collection("Utenti")
+                    .document(id)
+                    .get()
+                    .addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {
+
+                        @Override
+                        public void onComplete(@NonNull Task<DocumentSnapshot> task) {
+                            DocumentSnapshot document = task.getResult();
+                            utenteLoggato = new User(document.get("nome").toString(),document.get("cognome").toString(),document.get("email").toString());
+                            utenteLoggato.etichetta = (String) document.get("etichetta");
+                            utenteLoggato.rischio = (Long) document.get("rischio");
+                            utenteLoggato.uid = document.getId();
+                            utenteLoggato.ruolo= document.getBoolean("ruolo");
+
+                            if (utenteLoggato.ruolo){
+                                new Handler().postDelayed(new Runnable() {
+                                    @Override
+                                    public void run() {
+                                        Intent i = new Intent(getApplicationContext(), MainActivityAsl.class);
+                                        startActivity(i);
+                                        overridePendingTransition(R.anim.anim,R.anim.no_animation);
+                                    }
+                                }, 2000);
+
+                            }else{
+                                new Handler().postDelayed(new Runnable() {
+                                    @Override
+                                    public void run() {
+                                        Intent i = new Intent(getApplicationContext(), MainActivity.class);
+                                        i.putExtra("utenteLoggato",utenteLoggato);
+                                        startActivity(i);
+                                        overridePendingTransition(R.anim.anim,R.anim.no_animation);
+                                    }
+                                }, 2000);
 
 
-        }
+                            }
 
+                        }
+                    });
+
+
+        }
+
     }
 
     public void splashAuth(View view) {
Index: app/src/main/res/layout/activity_home_evento_landscape.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/drawer_layout\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:fitsSystemWindows=\"true\"\r\n    tools:context=\".HomeEventiActivity\"\r\n    >\r\n\r\n    <com.google.android.material.navigation.NavigationView\r\n        android:id=\"@+id/nav_view\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_gravity=\"start\"\r\n        android:background=\"@color/colorPrimaryDark\"\r\n        app:itemTextColor=\"@color/white\"\r\n        app:itemIconTint=\"@color/white\"\r\n        app:headerLayout=\"@layout/header\"\r\n        app:menu=\"@menu/main_menu\">\r\n\r\n    </com.google.android.material.navigation.NavigationView>\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:background=\"@drawable/bg_home2\">\r\n\r\n        <androidx.appcompat.widget.Toolbar\r\n            android:id=\"@+id/toolbar\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@android:color/transparent\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintVertical_bias=\"0.0\"\r\n            app:theme=\"@style/ThemeOverlay.AppCompat.Light\" />\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/cardViewInvitiGruppi\"\r\n            android:layout_width=\"130dp\"\r\n            android:layout_height=\"135dp\"\r\n            android:layout_marginTop=\"72dp\"\r\n            android:layout_marginEnd=\"100dp\"\r\n            android:onClick=\"cercaEvento\"\r\n            app:cardCornerRadius=\"9dp\"\r\n            app:cardElevation=\"9dp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/toolbar\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imageViewInviti\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"59dp\"\r\n                android:layout_marginTop=\"15dp\"\r\n                android:src=\"@drawable/clipboard\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textViewInviti\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"80dp\"\r\n                android:fontFamily=\"@font/baloo\"\r\n                android:text=\"@string/iscriviti_ad_un_evento\"\r\n                android:textAlignment=\"center\"\r\n                android:textColor=\"@color/quantum_grey700\"\r\n                android:textSize=\"19sp\" />\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/cardViewListaGruppi\"\r\n            android:layout_width=\"130dp\"\r\n            android:layout_height=\"135dp\"\r\n            android:layout_marginStart=\"50dp\"\r\n            android:layout_marginTop=\"72dp\"\r\n            android:layout_marginEnd=\"50dp\"\r\n            android:onClick=\"ListaEventi\"\r\n            app:cardCornerRadius=\"9dp\"\r\n            app:cardElevation=\"9dp\"\r\n            app:layout_constraintEnd_toStartOf=\"@+id/cardViewInvitiGruppi\"\r\n            app:layout_constraintStart_toEndOf=\"@+id/cardViewCreaGruppo\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/toolbar\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imageView3\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"59dp\"\r\n                android:layout_marginTop=\"15dp\"\r\n                app:srcCompat=\"@drawable/iconaevento\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textView\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"80dp\"\r\n                android:fontFamily=\"@font/baloo\"\r\n                android:text=\"@string/lista_eventi\"\r\n                android:textAlignment=\"center\"\r\n                android:textColor=\"@color/quantum_grey700\"\r\n                android:textSize=\"20sp\" />\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/cardViewCreaGruppo\"\r\n            android:layout_width=\"130dp\"\r\n            android:layout_height=\"135dp\"\r\n            android:layout_marginStart=\"100dp\"\r\n            android:layout_marginTop=\"72dp\"\r\n            android:onClick=\"creaEvento\"\r\n            app:cardCornerRadius=\"9dp\"\r\n            app:cardElevation=\"9dp\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/toolbar\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imageViewCreaGruppo\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"59dp\"\r\n                android:layout_marginTop=\"15dp\"\r\n                app:srcCompat=\"@drawable/create\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textCreaGruppo\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"80dp\"\r\n                android:fontFamily=\"@font/baloo\"\r\n                android:text=\"@string/crea_evento\"\r\n                android:textAlignment=\"center\"\r\n                android:textColor=\"@color/quantum_grey700\"\r\n                android:textSize=\"20sp\" />\r\n        </androidx.cardview.widget.CardView>\r\n\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n\r\n</androidx.drawerlayout.widget.DrawerLayout>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_home_evento_landscape.xml	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/res/layout/activity_home_evento_landscape.xml	(date 1612979401127)
@@ -28,7 +28,7 @@
         android:background="@drawable/bg_home2">
 
         <androidx.appcompat.widget.Toolbar
-            android:id="@+id/toolbar"
+            android:id="@+id/toolbarAsl"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:background="@android:color/transparent"
@@ -48,7 +48,7 @@
             app:cardCornerRadius="9dp"
             app:cardElevation="9dp"
             app:layout_constraintEnd_toEndOf="parent"
-            app:layout_constraintTop_toBottomOf="@+id/toolbar">
+            app:layout_constraintTop_toBottomOf="@+id/toolbarAsl">
 
             <ImageView
                 android:id="@+id/imageViewInviti"
@@ -81,7 +81,7 @@
             app:cardElevation="9dp"
             app:layout_constraintEnd_toStartOf="@+id/cardViewInvitiGruppi"
             app:layout_constraintStart_toEndOf="@+id/cardViewCreaGruppo"
-            app:layout_constraintTop_toBottomOf="@+id/toolbar">
+            app:layout_constraintTop_toBottomOf="@+id/toolbarAsl">
 
             <ImageView
                 android:id="@+id/imageView3"
@@ -112,7 +112,7 @@
             app:cardCornerRadius="9dp"
             app:cardElevation="9dp"
             app:layout_constraintStart_toStartOf="parent"
-            app:layout_constraintTop_toBottomOf="@+id/toolbar">
+            app:layout_constraintTop_toBottomOf="@+id/toolbarAsl">
 
             <ImageView
                 android:id="@+id/imageViewCreaGruppo"
Index: app/src/main/res/layout/activity_home_eventi.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/drawer_layout\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:fitsSystemWindows=\"true\"\r\n    tools:context=\".HomeEventiActivity\"\r\n    >\r\n\r\n    <com.google.android.material.navigation.NavigationView\r\n        android:id=\"@+id/nav_view\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_gravity=\"start\"\r\n        android:background=\"@color/colorPrimaryDark\"\r\n        app:itemTextColor=\"@color/white\"\r\n        app:itemIconTint=\"@color/white\"\r\n        app:headerLayout=\"@layout/header\"\r\n        app:menu=\"@menu/main_menu\">\r\n\r\n    </com.google.android.material.navigation.NavigationView>\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:background=\"@drawable/bg_home2\">\r\n\r\n        <androidx.appcompat.widget.Toolbar\r\n            android:id=\"@+id/toolbar\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@android:color/transparent\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintVertical_bias=\"0.0\"\r\n            app:theme=\"@style/ThemeOverlay.AppCompat.Light\" />\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/cardViewCreaGruppo\"\r\n            android:layout_width=\"130dp\"\r\n            android:layout_height=\"135dp\"\r\n            android:layout_marginTop=\"60dp\"\r\n            android:onClick=\"creaEvento\"\r\n            app:cardCornerRadius=\"9dp\"\r\n            app:cardElevation=\"9dp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.501\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/toolbar\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imageViewCreaGruppo\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"59dp\"\r\n                android:layout_marginTop=\"15dp\"\r\n                app:srcCompat=\"@drawable/create\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textCreaGruppo\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"80dp\"\r\n                android:fontFamily=\"@font/baloo\"\r\n                android:text=\"@string/crea_evento\"\r\n                android:textAlignment=\"center\"\r\n                android:textColor=\"@color/quantum_grey700\"\r\n                android:textSize=\"20sp\" />\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/cardViewListaGruppi\"\r\n            android:layout_width=\"130dp\"\r\n            android:layout_height=\"135dp\"\r\n            android:layout_marginTop=\"40dp\"\r\n            android:onClick=\"ListaEventi\"\r\n            app:cardCornerRadius=\"9dp\"\r\n            app:cardElevation=\"9dp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.501\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/cardViewCreaGruppo\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imageView3\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"59dp\"\r\n                android:layout_marginTop=\"15dp\"\r\n                app:srcCompat=\"@drawable/iconaevento\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textView\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"80dp\"\r\n                android:fontFamily=\"@font/baloo\"\r\n                android:text=\"@string/lista_eventi\"\r\n                android:textAlignment=\"center\"\r\n                android:textColor=\"@color/quantum_grey700\"\r\n                android:textSize=\"20sp\" />\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/cardViewInvitiGruppi\"\r\n            android:layout_width=\"130dp\"\r\n            android:layout_height=\"135dp\"\r\n            android:layout_marginTop=\"40dp\"\r\n            android:onClick=\"cercaEvento\"\r\n            app:cardCornerRadius=\"9dp\"\r\n            app:cardElevation=\"9dp\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.501\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@+id/cardViewListaGruppi\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imageViewInviti\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"59dp\"\r\n                android:layout_marginTop=\"15dp\"\r\n                android:src=\"@drawable/clipboard\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textViewInviti\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"80dp\"\r\n                android:fontFamily=\"@font/baloo\"\r\n                android:text=\"@string/iscriviti_ad_un_evento\"\r\n                android:textAlignment=\"center\"\r\n                android:textColor=\"@color/quantum_grey700\"\r\n                android:textSize=\"19sp\" />\r\n        </androidx.cardview.widget.CardView>\r\n\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n\r\n</androidx.drawerlayout.widget.DrawerLayout>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_home_eventi.xml	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/res/layout/activity_home_eventi.xml	(date 1612979401134)
@@ -28,7 +28,7 @@
         android:background="@drawable/bg_home2">
 
         <androidx.appcompat.widget.Toolbar
-            android:id="@+id/toolbar"
+            android:id="@+id/toolbarAsl"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
             android:background="@android:color/transparent"
@@ -49,7 +49,7 @@
             app:layout_constraintEnd_toEndOf="parent"
             app:layout_constraintHorizontal_bias="0.501"
             app:layout_constraintStart_toStartOf="parent"
-            app:layout_constraintTop_toBottomOf="@+id/toolbar">
+            app:layout_constraintTop_toBottomOf="@+id/toolbarAsl">
 
             <ImageView
                 android:id="@+id/imageViewCreaGruppo"
Index: app/src/main/java/it/gadg/contagiapp/HomeGruppiActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package it.gadg.contagiapp;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\n\r\nimport android.content.Intent;\r\nimport android.content.res.Configuration;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\n\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport it.gadg.contagiapp.gruppo.CreaGruppoActivity;\r\nimport it.gadg.contagiapp.gruppo.InvitiGruppi;\r\nimport it.gadg.contagiapp.gruppo.ListaGruppiActivity;\r\nimport it.gadg.contagiapp.splash.Splash;\r\nimport it.gadg.contagiapp.utente.ModificaUtenteActivity;\r\n\r\npublic class HomeGruppiActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n\r\n    DrawerLayout drawerLayout;\r\n    NavigationView navigationView;\r\n    Toolbar toolbar;\r\n    TextView textView;\r\n    TextView nomeMenu;\r\n    TextView emailMenu;\r\n    String nomeUtente;\r\n    String emailUtente;\r\n\r\n    private FirebaseAuth mAuth; //dichiaro variabile per l'auenticazione firebase\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        int orientation = this.getResources().getConfiguration().orientation;\r\n        if (orientation == Configuration.ORIENTATION_PORTRAIT) {\r\n            setContentView(R.layout.activity_home_gruppi);\r\n        } else {\r\n            setContentView(R.layout.activity_home_gruppi_landscape);\r\n        }\r\n\r\n\r\n\r\n        getWindow().setNavigationBarColor(ContextCompat.getColor(this, R.color.colorPrimaryDark));\r\n\r\n\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n\r\n        /*---------------------MENU------------------------*/\r\n        drawerLayout=findViewById(R.id.drawer_layout);\r\n        navigationView=findViewById(R.id.nav_view);\r\n        textView=findViewById(R.id.positvoText);\r\n        toolbar=findViewById(R.id.toolbar);\r\n\r\n        View headerLayout = navigationView.getHeaderView(0);\r\n        nomeMenu=headerLayout.findViewById(R.id.nomeMenu);\r\n        Intent i = getIntent();\r\n        nomeUtente =i.getStringExtra(\"nome\");\r\n        nomeMenu.setText(nomeUtente);\r\n        emailUtente=i.getStringExtra(\"email\");\r\n        emailMenu=headerLayout.findViewById(R.id.emailMenu);\r\n        emailMenu.setText(emailUtente);\r\n\r\n        setSupportActionBar(toolbar);\r\n\r\n\r\n        navigationView.bringToFront();\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar,R.string.navigation_drawer_open,R.string.navigation_drawer_close);\r\n        drawerLayout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void finish() {\r\n        super.finish();\r\n        overridePendingTransition(R.anim.slide_up_in, R.anim.slide_up_out);\r\n    }\r\n\r\n\r\n    public void creaGruppo(View view) {\r\n        Intent i = new Intent(getApplicationContext(), CreaGruppoActivity.class);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n    }\r\n\r\n\r\n    public void ListaGruppi(View view) {\r\n        Intent i = new Intent(getApplicationContext(), ListaGruppiActivity.class);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n    }\r\n\r\n    public void ListaInviti(View view) {\r\n        Intent i = new Intent(getApplicationContext(), InvitiGruppi.class);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n\r\n        switch (item.getItemId()){\r\n            case R.id.nav_home:\r\n                this.home();\r\n                break;\r\n            case R.id.nav_gruppi:\r\n                break;\r\n\r\n            case R.id.nav_eventi:\r\n                this.homeeventi();\r\n                break;\r\n            case R.id.nav_logout:\r\n                this.logout();\r\n                break;\r\n            case R.id.nav_profilo:\r\n                this.modificaUtente();\r\n                break;\r\n            case R.id.nav_contatto:\r\n                this.registraContatto();\r\n                break;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n\r\n    //FUNZIONI MENU\r\n\r\n    private void home() {\r\n        Intent i = new Intent(getApplicationContext(), MainActivity.class);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_up_in, R.anim.slide_up_out);\r\n    }\r\n\r\n\r\n    private void homeeventi() {\r\n        Intent i = new Intent(getApplicationContext(), HomeEventiActivity.class);\r\n        i.putExtra(\"nome\",nomeUtente);\r\n        i.putExtra(\"email\",emailUtente);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n    }\r\n\r\n\r\n    public void registraContatto() {\r\n\r\n        Intent i = new Intent(getApplicationContext(), BtActivity.class);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n    }\r\n\r\n    public void modificaUtente() {\r\n        Intent i = new Intent(getApplicationContext(), ModificaUtenteActivity.class);\r\n        startActivity(i);\r\n        overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);\r\n\r\n    }\r\n\r\n\r\n    public void logout() {\r\n        mAuth.signOut();\r\n        if (null == FirebaseAuth.getInstance().getCurrentUser()) {\r\n            Toast.makeText(getApplicationContext(), getResources().getString(R.string.logoutSucc),\r\n                    Toast.LENGTH_SHORT).show();\r\n            Intent i = new Intent(getApplicationContext(), Splash.class);\r\n            startActivity(i);\r\n        } else {\r\n            Toast.makeText(getApplicationContext(), getResources().getString(R.string.logoutFail),\r\n                    Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n    @Override\r\n    public void onConfigurationChanged(@NotNull Configuration newConfig) {\r\n        super.onConfigurationChanged(newConfig);\r\n\r\n        if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {\r\n            setContentView(R.layout.activity_home_gruppi_landscape);\r\n        }\r\n\r\n         else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT){\r\n            setContentView(R.layout.activity_home_gruppi);\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/it/gadg/contagiapp/HomeGruppiActivity.java	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/java/it/gadg/contagiapp/HomeGruppiActivity.java	(date 1613058800013)
@@ -9,7 +9,6 @@
 
 import android.content.Intent;
 import android.content.res.Configuration;
-import android.os.Build;
 import android.os.Bundle;
 import android.view.MenuItem;
 import android.view.View;
@@ -25,6 +24,7 @@
 import it.gadg.contagiapp.gruppo.CreaGruppoActivity;
 import it.gadg.contagiapp.gruppo.InvitiGruppi;
 import it.gadg.contagiapp.gruppo.ListaGruppiActivity;
+import it.gadg.contagiapp.modelli.User;
 import it.gadg.contagiapp.splash.Splash;
 import it.gadg.contagiapp.utente.ModificaUtenteActivity;
 
@@ -36,8 +36,7 @@
     TextView textView;
     TextView nomeMenu;
     TextView emailMenu;
-    String nomeUtente;
-    String emailUtente;
+    User utenteLoggato;
 
     private FirebaseAuth mAuth; //dichiaro variabile per l'auenticazione firebase
     @Override
@@ -63,17 +62,16 @@
         drawerLayout=findViewById(R.id.drawer_layout);
         navigationView=findViewById(R.id.nav_view);
         textView=findViewById(R.id.positvoText);
-        toolbar=findViewById(R.id.toolbar);
+        toolbar=findViewById(R.id.toolbarAsl);
 
+
+        Intent i = getIntent();
+        utenteLoggato = (User) i.getSerializableExtra("utenteLoggato");
         View headerLayout = navigationView.getHeaderView(0);
         nomeMenu=headerLayout.findViewById(R.id.nomeMenu);
-        Intent i = getIntent();
-        nomeUtente =i.getStringExtra("nome");
-        nomeMenu.setText(nomeUtente);
-        emailUtente=i.getStringExtra("email");
+        nomeMenu.setText(utenteLoggato.nome + " " +utenteLoggato.cognome);
         emailMenu=headerLayout.findViewById(R.id.emailMenu);
-        emailMenu.setText(emailUtente);
-
+        emailMenu.setText(utenteLoggato.email);
         setSupportActionBar(toolbar);
 
 
@@ -146,6 +144,7 @@
 
     private void home() {
         Intent i = new Intent(getApplicationContext(), MainActivity.class);
+        i.putExtra("utenteLoggato",utenteLoggato);
         startActivity(i);
         overridePendingTransition(R.anim.slide_up_in, R.anim.slide_up_out);
     }
@@ -153,8 +152,7 @@
 
     private void homeeventi() {
         Intent i = new Intent(getApplicationContext(), HomeEventiActivity.class);
-        i.putExtra("nome",nomeUtente);
-        i.putExtra("email",emailUtente);
+        i.putExtra("utenteLoggato",utenteLoggato);
         startActivity(i);
         overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left);
     }
Index: app/src/main/res/values/styles.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <!-- Base application theme. -->\r\n    <style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\">\r\n        <!-- Customize your theme here. -->\r\n        <item name=\"colorPrimary\">@color/colorPrimary</item>\r\n        <item name=\"colorPrimaryDark\">@color/colorPrimaryDark</item>\r\n\r\n    </style>\r\n\r\n    <style name=\"AppTheme.NoActionBar\">\r\n        <item name=\"windowActionBar\">false</item>\r\n        <item name=\"windowNoTitle\">true</item>\r\n    </style>\r\n\r\n    <style name=\"AppTheme.AppBarOverlay\" parent=\"ThemeOverlay.AppCompat.Dark.ActionBar\" />\r\n\r\n    <style name=\"AppTheme.PopupOverlay\" parent=\"ThemeOverlay.AppCompat.Light\" />\r\n\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/values/styles.xml	(revision 7a247fa4a0444d80859711417494ab46689a9dc2)
+++ app/src/main/res/values/styles.xml	(date 1612979401058)
@@ -7,6 +7,7 @@
 
     </style>
 
+
     <style name="AppTheme.NoActionBar">
         <item name="windowActionBar">false</item>
         <item name="windowNoTitle">true</item>
